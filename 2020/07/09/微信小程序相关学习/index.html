<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/icon.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/icon.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/icon.jpg">
  <link rel="mask-icon" href="/images/icon.jpg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.pisho.me","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="å°ç¨‹åºå…¶å®ç›¸å½“äºæ˜¯å¾®ä¿¡çš„ä¸€ä¸ªå‰ç«¯æ¡†æ¶å’Œç»„ä»¶åº“ï¼Œè‡ªå·±æ•´äº†ä¸€å¥— WXML&#x2F;WXS è¯­æ³•ã€‚åº”è¯¥æ˜¯å¯ä»¥è§¦ç±»æ—é€šçš„å­¦çš„ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="å¾®ä¿¡å°ç¨‹åºç›¸å…³å­¦ä¹ ">
<meta property="og:url" content="http://www.pisho.me/2020/07/09/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Pisho&#39;Blogs">
<meta property="og:description" content="å°ç¨‹åºå…¶å®ç›¸å½“äºæ˜¯å¾®ä¿¡çš„ä¸€ä¸ªå‰ç«¯æ¡†æ¶å’Œç»„ä»¶åº“ï¼Œè‡ªå·±æ•´äº†ä¸€å¥— WXML&#x2F;WXS è¯­æ³•ã€‚åº”è¯¥æ˜¯å¯ä»¥è§¦ç±»æ—é€šçš„å­¦çš„ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://res.wx.qq.com/wxdoc/dist/assets/img/page-lifecycle.2e646c86.png">
<meta property="article:published_time" content="2020-07-09T06:57:29.000Z">
<meta property="article:modified_time" content="2020-12-23T14:40:51.826Z">
<meta property="article:author" content="Pisho">
<meta property="article:tag" content="å­¦ä¹ å‰ç«¯">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://res.wx.qq.com/wxdoc/dist/assets/img/page-lifecycle.2e646c86.png">

<link rel="canonical" href="http://www.pisho.me/2020/07/09/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>å¾®ä¿¡å°ç¨‹åºç›¸å…³å­¦ä¹  | Pisho'Blogs</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Pisho'Blogs</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Daily Notes</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>å½’æ¡£</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="heartbeat fa-fw"></i>å…¬ç›Š 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://www.pisho.me/2020/07/09/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/icon.jpg">
      <meta itemprop="name" content="Pisho">
      <meta itemprop="description" content="æœ¬ç«™çœ‹è¿æ°”è®¿é—®è¿›æ¥,ä¸»è¦æ˜¯æœ¬äººçš„ä¸€äº›å­¦ä¹ ç¬”è®°,ä¸€èˆ¬æ²¡æœ‰ä»€ä¹ˆå¹²è´§ã€‚ä¸è¿‡è¿˜æ˜¯å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©ä½ å­¦ä¹ åˆ°ä»€ä¹ˆã€‚ç”±äºåŸŸååˆ°æœŸï¼Œæ‰€ä»¥æ¢æˆäº† MOE äºŒæ¬¡å…ƒåŸŸåã€‚ğŸ˜„">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Pisho'Blogs">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          å¾®ä¿¡å°ç¨‹åºç›¸å…³å­¦ä¹ 
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-07-09 14:57:29" itemprop="dateCreated datePublished" datetime="2020-07-09T14:57:29+08:00">2020-07-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-12-23 22:40:51" itemprop="dateModified" datetime="2020-12-23T22:40:51+08:00">2020-12-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ </span></a>
                </span>
            </span>

          
            <div class="post-description">å°ç¨‹åºå…¶å®ç›¸å½“äºæ˜¯å¾®ä¿¡çš„ä¸€ä¸ªå‰ç«¯æ¡†æ¶å’Œç»„ä»¶åº“ï¼Œè‡ªå·±æ•´äº†ä¸€å¥— WXML/WXS è¯­æ³•ã€‚åº”è¯¥æ˜¯å¯ä»¥è§¦ç±»æ—é€šçš„å­¦çš„ã€‚</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="WXML"><a href="#WXML" class="headerlink" title="WXML"></a>WXML</h1><p>æ„Ÿè§‰åœ¨ç©è°éŸ³æ¢—ï¼Œä½†æ˜¯ WXML æ„Ÿè§‰å’Œ XML è¯­æ³•æ²¡å¤ªå¤§å…³ç³»ï¼Œæ–‡æ¡£ä¸­ä¸»è¦ä»‹ç»äº†åœ¨ HTML ä¸­ä½¿ç”¨æ•°æ®çš„æ–¹æ³•ã€‚æ„Ÿè§‰åœ¨æ ¼å¼ä¸Šå’Œ Vue æ¡†æ¶æ¯”è¾ƒåƒä¸€äº›å§ã€‚</p>
<blockquote>
<p>WXMLï¼ˆWeiXin Markup Languageï¼‰æ˜¯æ¡†æ¶è®¾è®¡çš„ä¸€å¥—æ ‡ç­¾è¯­è¨€ï¼Œç»“åˆ<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/index.html">åŸºç¡€ç»„ä»¶</a>ã€<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html">äº‹ä»¶ç³»ç»Ÿ</a>ï¼Œå¯ä»¥æ„å»ºå‡ºé¡µé¢çš„ç»“æ„ã€‚</p>
</blockquote>
<h2 id="æ•°æ®ç»‘å®š"><a href="#æ•°æ®ç»‘å®š" class="headerlink" title="æ•°æ®ç»‘å®š"></a>æ•°æ®ç»‘å®š</h2><p>é¦–å…ˆï¼Œå¾®ä¿¡çš„è¿™ä¸ªæ¡†æ¶é»˜è®¤æ˜¯ä¸€ä¸ªå¤šé¡µé¢åº”ç”¨ MPAï¼Œç›¸æ¯”äº Vue çš„ SPAï¼Œæœ€ä¸»è¦çš„åŒºåˆ«åœ¨äº MPA ä¼šåœ¨ç¼–è¯‘æ—¶æ ¹æ®é¡µé¢ç”Ÿæˆå¤šä¸ªé¡µé¢ï¼Œé¡µé¢ä¸é¡µé¢ä¹‹é—´å°±åƒç»„ä»¶ä¸ç»„ä»¶ä¸€æ ·æ²¡ä»€ä¹ˆå…³ç³»ï¼ŒSPA ä¼šç”Ÿæˆä¸€ä¸ªä¸»é¡µï¼Œé€šè¿‡ Vue-router è¿›è¡Œç»„ä»¶é—´çš„è·³è½¬ã€åˆ‡æ¢ã€‚</p>
<p>åœ¨å¾®ä¿¡æ¡†æ¶ä¸­ï¼Œæ•°æ®ä¿å­˜åœ¨ Page å¯¹è±¡ä¸­çš„ data ä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">&quot;Hello MINA!&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>åœ¨æ¨¡æ¿ä¸­å¯ä»¥é€šè¿‡ `{{}}`è¿›è¡Œç®€å•çš„æ•°æ®ç»‘å®š

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123; message &#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
å¦‚æœæ˜¯åŠ¨æ€ç»‘å®šå±æ€§çš„è¯ä¹Ÿéœ€è¦ä½¿ç”¨`{{}}`</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">&quot;item-&#123;&#123;id&#125;&#125;&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœæœ‰å¿…è¦çš„è¯å¯ä»¥åœ¨`{{}}`ä¸­ä½¿ç”¨ä¸€äº›ç®€å•çš„è®¡ç®—ï¼Œå¦‚ä¸‰å…ƒã€ç®—æ•°ã€é€»è¾‘å­—ç¬¦ä¸²ç­‰ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> èŠ±æ‹¬å·å’Œå¼•å·ä¹‹é—´å¦‚æœæœ‰ç©ºæ ¼ï¼Œå°†æœ€ç»ˆè¢«è§£ææˆä¸ºå­—ç¬¦ä¸²</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;[1,2,3]&#125;&#125; &quot;</span>&gt;</span> &#123;&#123;item&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç­‰åŒäº</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;[1,2,3] + &#x27; &#x27;&#125;&#125;&quot;</span>&gt;</span> &#123;&#123;item&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h2><h3 id="wx-for"><a href="#wx-for" class="headerlink" title="wx:for"></a>wx:for</h3><p>åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ <code>wx:for</code> æ§åˆ¶å±æ€§ç»‘å®šä¸€ä¸ªæ•°ç»„ï¼Œå³å¯ä½¿ç”¨æ•°ç»„ä¸­å„é¡¹çš„æ•°æ®é‡å¤æ¸²æŸ“è¯¥ç»„ä»¶ã€‚</p>
<p>é»˜è®¤æ•°ç»„çš„å½“å‰é¡¹çš„ä¸‹æ ‡å˜é‡åé»˜è®¤ä¸º <code>index</code>ï¼Œæ•°ç»„å½“å‰é¡¹çš„å˜é‡åé»˜è®¤ä¸º <code>item</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;array&#125;&#125;&quot;</span>&gt;</span> &#123;&#123;index&#125;&#125;: &#123;&#123;item.message&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    array: [</span><br><span class="line">      &#123;</span><br><span class="line">        message: <span class="string">&quot;foo&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        message: <span class="string">&quot;bar&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ <code>wx:for-item</code> å¯ä»¥æŒ‡å®šæ•°ç»„å½“å‰å…ƒç´ çš„å˜é‡åï¼Œ</p>
<p>ä½¿ç”¨ <code>wx:for-index</code> å¯ä»¥æŒ‡å®šæ•°ç»„å½“å‰ä¸‹æ ‡çš„å˜é‡åï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;array&#125;&#125;&quot;</span> <span class="attr">wx:for-index</span>=<span class="string">&quot;idx&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;itemName&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123;idx&#125;&#125;: &#123;&#123;itemName.message&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸æŒ‡å®šçš„è¯å°±æ˜¯é»˜è®¤çš„ index/itemã€‚</p>
<p><code>wx:for</code> ä¹Ÿå¯ä»¥åµŒå¥—ï¼Œä¸‹è¾¹æ˜¯ä¸€ä¸ªä¹ä¹ä¹˜æ³•è¡¨</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;[1, 2, 3, 4, 5, 6, 7, 8, 9]&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;i&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;[1, 2, 3, 4, 5, 6, 7, 8, 9]&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&quot;j&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;i &lt;= j&#125;&#125;&quot;</span>&gt;</span> &#123;&#123;i&#125;&#125; * &#123;&#123;j&#125;&#125; = &#123;&#123;i * j&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="block-wx-for"><a href="#block-wx-for" class="headerlink" title="block wx:for"></a>block wx:for</h4><p>ç±»ä¼¼ <code>block wx:if</code>ï¼Œä¹Ÿå¯ä»¥å°† <code>wx:for</code> ç”¨åœ¨<code>&lt;block/&gt;</code>æ ‡ç­¾ä¸Šï¼Œä»¥æ¸²æŸ“ä¸€ä¸ªåŒ…å«å¤šèŠ‚ç‚¹çš„ç»“æ„å—ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;[1, 2, 3]&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;index&#125;&#125;: <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;item&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ–‡æ¡£å¤Ÿä¹±çš„ï¼Œè¿™é‡Œçš„ <code>&lt;view&gt;</code> å’Œ <code>&lt;block&gt;</code> æ ‡ç­¾å¯ä»¥ç†è§£ä¸º <code>div</code> çš„ä¸€ç§å˜ä½“ï¼Œæ˜¯å¾®ä¿¡è‡ªå·±å®šä¹‰çš„ã€‚</p>
<h4 id="wx-key"><a href="#wx-key" class="headerlink" title="wx:key"></a>wx:key</h4><p>å¦‚æœåˆ—è¡¨ä¸­é¡¹ç›®çš„ä½ç½®ä¼šåŠ¨æ€æ”¹å˜æˆ–è€…æœ‰æ–°çš„é¡¹ç›®æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”å¸Œæœ›åˆ—è¡¨ä¸­çš„é¡¹ç›®ä¿æŒè‡ªå·±çš„ç‰¹å¾å’ŒçŠ¶æ€ï¼ˆå¦‚ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html">input</a> ä¸­çš„è¾“å…¥å†…å®¹ï¼Œ<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/switch.html">switch</a> çš„é€‰ä¸­çŠ¶æ€ï¼‰ï¼Œéœ€è¦ä½¿ç”¨ <code>wx:key</code> æ¥æŒ‡å®šåˆ—è¡¨ä¸­é¡¹ç›®çš„å”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚</p>
<p><code>wx:key</code> çš„å€¼ä»¥ä¸¤ç§å½¢å¼æä¾›</p>
<ol>
<li>å­—ç¬¦ä¸²ï¼Œä»£è¡¨åœ¨ for å¾ªç¯çš„ array ä¸­ item çš„æŸä¸ª propertyï¼Œè¯¥ property çš„å€¼éœ€è¦æ˜¯åˆ—è¡¨ä¸­å”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œä¸”ä¸èƒ½åŠ¨æ€æ”¹å˜ã€‚</li>
<li>ä¿ç•™å…³é”®å­— <code>*this</code> ä»£è¡¨åœ¨ for å¾ªç¯ä¸­çš„ item æœ¬èº«ï¼Œè¿™ç§è¡¨ç¤ºéœ€è¦ item æœ¬èº«æ˜¯ä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ã€‚</li>
</ol>
<p>å½“æ•°æ®æ”¹å˜è§¦å‘æ¸²æŸ“å±‚é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œä¼šæ ¡æ­£å¸¦æœ‰ key çš„ç»„ä»¶ï¼Œæ¡†æ¶ä¼šç¡®ä¿ä»–ä»¬è¢«é‡æ–°æ’åºï¼Œè€Œä¸æ˜¯é‡æ–°åˆ›å»ºï¼Œä»¥ç¡®ä¿ä½¿ç»„ä»¶ä¿æŒè‡ªèº«çš„çŠ¶æ€ï¼Œå¹¶ä¸”æé«˜åˆ—è¡¨æ¸²æŸ“æ—¶çš„æ•ˆç‡ã€‚</p>
<p><strong>å¦‚ä¸æä¾› <code>wx:key</code>ï¼Œä¼šæŠ¥ä¸€ä¸ª <code>warning</code>ï¼Œ å¦‚æœæ˜ç¡®çŸ¥é“è¯¥åˆ—è¡¨æ˜¯é™æ€ï¼Œæˆ–è€…ä¸å¿…å…³æ³¨å…¶é¡ºåºï¼Œå¯ä»¥é€‰æ‹©å¿½ç•¥ã€‚</strong></p>
<p>è¿™é‡Œçš„ <code>key</code> å’Œ <code>v-for</code> ä¸­çš„ <code>key</code> æ˜¯ä¸€ä¸ªæ„æ€ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">switch</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;objectArray&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;unique&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: block;&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123;item.id&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">switch</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;switch&quot;</span>&gt;</span>Switch<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;addToFront&quot;</span>&gt;</span>Add to the front<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">switch</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;numberArray&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;*this&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display: block;&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123;item&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">switch</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;addNumberToFront&quot;</span>&gt;</span>Add to the front<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    objectArray: [</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">5</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_5&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_4&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_3&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_2&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_1&quot;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">unique</span>: <span class="string">&quot;unique_0&quot;</span> &#125;,</span><br><span class="line">    ],</span><br><span class="line">    numberArray: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">switch</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> length = <span class="built_in">this</span>.data.objectArray.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; ++i) &#123;</span><br><span class="line">      <span class="keyword">const</span> x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * length);</span><br><span class="line">      <span class="keyword">const</span> y = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * length);</span><br><span class="line">      <span class="keyword">const</span> temp = <span class="built_in">this</span>.data.objectArray[x];</span><br><span class="line">      <span class="built_in">this</span>.data.objectArray[x] = <span class="built_in">this</span>.data.objectArray[y];</span><br><span class="line">      <span class="built_in">this</span>.data.objectArray[y] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">      objectArray: <span class="built_in">this</span>.data.objectArray,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  addToFront: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> length = <span class="built_in">this</span>.data.objectArray.length;</span><br><span class="line">    <span class="built_in">this</span>.data.objectArray = [&#123; <span class="attr">id</span>: length, <span class="attr">unique</span>: <span class="string">&quot;unique_&quot;</span> + length &#125;].concat(</span><br><span class="line">      <span class="built_in">this</span>.data.objectArray</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">      objectArray: <span class="built_in">this</span>.data.objectArray,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  addNumberToFront: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.data.numberArray = [<span class="built_in">this</span>.data.numberArray.length + <span class="number">1</span>].concat(</span><br><span class="line">      <span class="built_in">this</span>.data.numberArray</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">      numberArray: <span class="built_in">this</span>.data.numberArray,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h2><h3 id="wx-if"><a href="#wx-if" class="headerlink" title="wx:if"></a>wx:if</h3><p>åœ¨æ¡†æ¶ä¸­ï¼Œä½¿ç”¨ <code>wx:if=&quot;&quot;</code> æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ¸²æŸ“è¯¥ä»£ç å—ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;condition&#125;&#125;&quot;</span>&gt;</span> True <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥ç”¨ <code>wx:elif</code> å’Œ <code>wx:else</code> æ¥æ·»åŠ ä¸€ä¸ª else å—ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;length &gt; 5&#125;&#125;&quot;</span>&gt;</span> 1 <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:elif</span>=<span class="string">&quot;&#123;&#123;length &gt; 2&#125;&#125;&quot;</span>&gt;</span> 2 <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span>&gt;</span> 3 <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="block-wx-if"><a href="#block-wx-if" class="headerlink" title="block wx:if"></a>block wx:if</h3><p>å› ä¸º <code>wx:if</code> æ˜¯ä¸€ä¸ªæ§åˆ¶å±æ€§ï¼Œéœ€è¦å°†å®ƒæ·»åŠ åˆ°ä¸€ä¸ªæ ‡ç­¾ä¸Šã€‚å¦‚æœè¦ä¸€æ¬¡æ€§åˆ¤æ–­å¤šä¸ªç»„ä»¶æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ª <code>&lt;block/&gt;</code> æ ‡ç­¾å°†å¤šä¸ªç»„ä»¶åŒ…è£…èµ·æ¥ï¼Œå¹¶åœ¨ä¸Šè¾¹ä½¿ç”¨ <code>wx:if</code> æ§åˆ¶å±æ€§ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span> view1 <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span> view2 <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong> <code>&lt;block/&gt;</code> å¹¶ä¸æ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒä»…ä»…æ˜¯ä¸€ä¸ªåŒ…è£…å…ƒç´ ï¼Œä¸ä¼šåœ¨é¡µé¢ä¸­åšä»»ä½•æ¸²æŸ“ï¼Œåªæ¥å—æ§åˆ¶å±æ€§ã€‚è¿™ç§äº‹æƒ…è¦æ—©è¯´å•Šã€‚</p>
</blockquote>
<h4 id="wx-if-vs-hidden"><a href="#wx-if-vs-hidden" class="headerlink" title="wx:if vs hidden"></a><code>wx:if</code> vs <code>hidden</code></h4><p>å› ä¸º <code>wx:if</code> ä¹‹ä¸­çš„æ¨¡æ¿ä¹Ÿå¯èƒ½åŒ…å«æ•°æ®ç»‘å®šï¼Œæ‰€ä»¥å½“ <code>wx:if</code> çš„æ¡ä»¶å€¼åˆ‡æ¢æ—¶ï¼Œæ¡†æ¶æœ‰ä¸€ä¸ªå±€éƒ¨æ¸²æŸ“çš„è¿‡ç¨‹ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿æ¡ä»¶å—åœ¨åˆ‡æ¢æ—¶é”€æ¯æˆ–é‡æ–°æ¸²æŸ“ã€‚</p>
<p>åŒæ—¶ <code>wx:if</code> ä¹Ÿæ˜¯<strong>æƒ°æ€§çš„</strong>ï¼Œå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ¡ä»¶ä¸º <code>false</code>ï¼Œæ¡†æ¶ä»€ä¹ˆä¹Ÿä¸åšï¼Œåœ¨æ¡ä»¶ç¬¬ä¸€æ¬¡å˜æˆçœŸçš„æ—¶å€™æ‰å¼€å§‹å±€éƒ¨æ¸²æŸ“ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<code>hidden</code> å°±ç®€å•çš„å¤šï¼Œç»„ä»¶å§‹ç»ˆä¼šè¢«æ¸²æŸ“ï¼Œåªæ˜¯ç®€å•çš„æ§åˆ¶æ˜¾ç¤ºä¸éšè—ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œ<code>wx:if</code> æœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—è€Œ <code>hidden</code> æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢çš„æƒ…æ™¯ä¸‹ï¼Œç”¨ <code>hidden</code> æ›´å¥½ï¼Œå¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶ä¸å¤§å¯èƒ½æ”¹å˜åˆ™ <code>wx:if</code> è¾ƒå¥½ã€‚</p>
<p>å’Œ <code>v-show</code> ä»¥åŠ <code>v-if</code> æ˜¯ä¸€ä¸ªæ„æ€ã€‚</p>
<h2 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h2><blockquote>
<p>WXML æä¾›æ¨¡æ¿ï¼ˆtemplateï¼‰ï¼Œå¯ä»¥åœ¨æ¨¡æ¿ä¸­å®šä¹‰ä»£ç ç‰‡æ®µï¼Œç„¶ååœ¨ä¸åŒçš„åœ°æ–¹è°ƒç”¨ã€‚</p>
</blockquote>
<p>åœ¨ WXML ä¸­ï¼Œæ¨¡æ¿æ˜¯ä¸€ä¸ªå¯å¤ç”¨çš„ä¸œè¥¿ï¼Œä¹Ÿå¯ä»¥è¯´æˆæ˜¯ç»„ä»¶å§ã€‚</p>
<h3 id="å®šä¹‰æ¨¡æ¿"><a href="#å®šä¹‰æ¨¡æ¿" class="headerlink" title="å®šä¹‰æ¨¡æ¿"></a>å®šä¹‰æ¨¡æ¿</h3><p>ä½¿ç”¨ name å±æ€§ï¼Œä½œä¸ºæ¨¡æ¿çš„åå­—ã€‚ç„¶ååœ¨<code>&lt;template/&gt;</code>å†…å®šä¹‰ä»£ç ç‰‡æ®µï¼Œå¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">  index: int</span></span><br><span class="line"><span class="comment">  msg: string</span></span><br><span class="line"><span class="comment">  time: string</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">&quot;msgItem&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span>&gt;</span> &#123;&#123;index&#125;&#125;: &#123;&#123;msg&#125;&#125; <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span>&gt;</span> Time: &#123;&#123;time&#125;&#125; <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨æ¨¡æ¿"><a href="#ä½¿ç”¨æ¨¡æ¿" class="headerlink" title="ä½¿ç”¨æ¨¡æ¿"></a>ä½¿ç”¨æ¨¡æ¿</h3><p>ä½¿ç”¨ is å±æ€§ï¼Œå£°æ˜éœ€è¦çš„ä½¿ç”¨çš„æ¨¡æ¿ï¼Œç„¶åå°†æ¨¡æ¿æ‰€éœ€è¦çš„ data ä¼ å…¥ï¼Œå¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">&quot;msgItem&quot;</span> <span class="attr">data</span>=<span class="string">&quot;&#123;&#123;...item&#125;&#125;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    item: &#123;</span><br><span class="line">      index: <span class="number">0</span>,</span><br><span class="line">      msg: <span class="string">&quot;this is a template&quot;</span>,</span><br><span class="line">      time: <span class="string">&quot;2016-09-15&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">&quot;odd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span> odd <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">&quot;even&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span> even <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;[1, 2, 3, 4, 5]&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">&quot;&#123;&#123;item % 2 == 0 ? &#x27;even&#x27; : &#x27;odd&#x27;&#125;&#125;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æˆ–è€…æ˜¯ä½¿ç”¨ <code>is</code> å…³é”®å­—æ­é…ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œè¿›è¡ŒåŠ¨æ€çš„åˆ‡æ¢æ¨¡æ¿ã€‚</p>
<h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p>WXML æä¾›ä¸¤ç§æ–‡ä»¶å¼•ç”¨æ–¹å¼<code>import</code>å’Œ<code>include</code>ã€‚</p>
<h3 id="import"><a href="#import" class="headerlink" title="import"></a>import</h3><p><code>import</code>å¯ä»¥åœ¨è¯¥æ–‡ä»¶ä¸­ä½¿ç”¨ç›®æ ‡æ–‡ä»¶å®šä¹‰çš„<code>template</code>ï¼Œå¦‚ï¼š</p>
<p>åœ¨ item.wxml ä¸­å®šä¹‰äº†ä¸€ä¸ªå«<code>item</code>çš„<code>template</code>ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- item.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123;text&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ index.wxml ä¸­å¼•ç”¨äº† item.wxmlï¼Œå°±å¯ä»¥ä½¿ç”¨<code>item</code>æ¨¡æ¿ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">src</span>=<span class="string">&quot;item.wxml&quot;</span> /&gt;</span> <span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">&quot;item&quot;</span> <span class="attr">data</span>=<span class="string">&quot;&#123;&#123;text: &#x27;forbar&#x27;&#125;&#125;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="import-çš„ä½œç”¨åŸŸ"><a href="#import-çš„ä½œç”¨åŸŸ" class="headerlink" title="import çš„ä½œç”¨åŸŸ"></a>import çš„ä½œç”¨åŸŸ</h3><p>import æœ‰ä½œç”¨åŸŸçš„æ¦‚å¿µï¼Œå³åªä¼š import ç›®æ ‡æ–‡ä»¶ä¸­å®šä¹‰çš„ templateï¼Œè€Œä¸ä¼š import ç›®æ ‡æ–‡ä»¶ import çš„ templateã€‚</p>
<p>**å¦‚ï¼šC import Bï¼ŒB import Aï¼Œåœ¨ C ä¸­å¯ä»¥ä½¿ç”¨ B å®šä¹‰çš„<code>template</code>ï¼Œåœ¨ B ä¸­å¯ä»¥ä½¿ç”¨ A å®šä¹‰çš„<code>template</code>ï¼Œä½†æ˜¯ C ä¸èƒ½ä½¿ç”¨ A å®šä¹‰çš„<code>template</code>**ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- A.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">&quot;A&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span>&gt;</span> A template <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- B.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">src</span>=<span class="string">&quot;a.wxml&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">&quot;B&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span>&gt;</span> B template <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- C.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">src</span>=<span class="string">&quot;b.wxml&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">&quot;A&quot;</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Error! Can not use tempalte when not import A. --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">&quot;B&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="include"><a href="#include" class="headerlink" title="include"></a>include</h3><p><code>include</code> å¯ä»¥å°†ç›®æ ‡æ–‡ä»¶<strong>é™¤äº†</strong> <code>&lt;template/&gt;</code> <code>&lt;wxs/&gt;</code> å¤–çš„æ•´ä¸ªä»£ç å¼•å…¥ï¼Œç›¸å½“äºæ˜¯æ‹·è´åˆ° <code>include</code> ä½ç½®ï¼Œå¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">src</span>=<span class="string">&quot;header.wxml&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> body <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">src</span>=<span class="string">&quot;footer.wxml&quot;</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- header.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> header <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- footer.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> footer <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç›¸æ¯”äº include æ¥è¯´ï¼Œ<code>import</code> çš„è¡Œä¸ºæ›´åŠ çš„ä¸¥è°¨ã€‚</p>
<h2 id="æœ‰å…³-XML-çš„äº‹æƒ…"><a href="#æœ‰å…³-XML-çš„äº‹æƒ…" class="headerlink" title="æœ‰å…³ XML çš„äº‹æƒ…"></a>æœ‰å…³ XML çš„äº‹æƒ…</h2><p>ç›®å‰æ¥çœ‹ï¼ŒWXML è¿˜æ˜¯æœ‰å…³äº XML çš„ä¸œè¥¿çš„ï¼Œæ¯”å¦‚åœ¨å°ç¨‹åºçš„é»˜è®¤æ¨¡æ¿ä¸­ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--index.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;userinfo&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;!hasUserInfo &amp;&amp; canIUse&#125;&#125;&quot;</span> <span class="attr">open-type</span>=<span class="string">&quot;getUserInfo&quot;</span> <span class="attr">bindgetuserinfo</span>=<span class="string">&quot;getUserInfo&quot;</span>&gt;</span> è·å–å¤´åƒæ˜µç§° <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:else</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindViewTap&quot;</span> <span class="attr">class</span>=<span class="string">&quot;userinfo-avatar&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;userInfo.avatarUrl&#125;&#125;&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;cover&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;userinfo-nickname&quot;</span>&gt;</span>&#123;&#123;userInfo.nickName&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;usermotto&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;user-motto&quot;</span>&gt;</span>&#123;&#123;motto&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆ <code>view</code> æ˜¯æœ€å¸¸è§çš„ä¸€ä¸ªæ ‡ç­¾ï¼Œç”¨æ¥è¡¨ç¤ºå±•ç¤ºï¼Œ<code>block</code> æ ‡ç­¾ç”¨æ¥è¡¨ç¤ºæ§åˆ¶å±æ€§ï¼Œä»…ä»…åªæ˜¯ä¸€ä¸ªåŒ…è£…å…ƒç´ ã€‚è¿™äº›æ ‡ç­¾ï¼Œä»¥åŠå…¶ä»–çš„å†…å®¹æ ‡ç­¾æ¯”å¦‚ä¸Šé¢çš„ <code>image</code> å’Œ <code>text</code> éƒ½æ˜¯å¾®ä¿¡çš„ç»„ä»¶ã€‚ç»„ä»¶åº“å‚è€ƒ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/">https://developers.weixin.qq.com/miniprogram/dev/component/</a></p>
<p>æ‰€ä»¥åŸºæœ¬ä¸Šï¼Œå¾®ä¿¡å§æ‰€æœ‰çš„ HTML5 æ ‡ç­¾é‡å†™å°è£…äº†ä¸€éã€‚</p>
<h1 id="WXS"><a href="#WXS" class="headerlink" title="WXS"></a>WXS</h1><blockquote>
<p>WXSï¼ˆWeiXin Scriptï¼‰æ˜¯å°ç¨‹åºçš„ä¸€å¥—è„šæœ¬è¯­è¨€ï¼Œç»“åˆ <code>WXML</code>ï¼Œå¯ä»¥æ„å»ºå‡ºé¡µé¢çš„ç»“æ„ã€‚</p>
<p>WXS ä¸ JavaScript æ˜¯ä¸åŒçš„è¯­è¨€ï¼Œæœ‰è‡ªå·±çš„è¯­æ³•ï¼Œå¹¶ä¸å’Œ JavaScript ä¸€è‡´ã€‚</p>
</blockquote>
<h2 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h2><p>WXS ä»£ç å¯ä»¥ç¼–å†™åœ¨ wxml æ–‡ä»¶ä¸­çš„ <code>&lt;wxs&gt;</code> æ ‡ç­¾å†…ï¼Œæˆ–ä»¥ <code>.wxs</code> ä¸ºåç¼€åçš„æ–‡ä»¶å†…ã€‚å’Œ <code>&lt;script&gt;</code> ä¸€æ ·ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /pages/tools.wxs</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="string">&quot;&#x27;hello world&#x27; from tools.wxs&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span> (<span class="params">d</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> d;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  FOO: foo,</span><br><span class="line">  bar: bar,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">module</span>.exports.msg = <span class="string">&quot;some msg&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ module.exports å°†æ¨¡å—å†…å®¹å¯¼å‡ºã€‚åœ¨å…¶ä»–æ–‡ä»¶ä¸­</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- page/index/index.wxml --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">wxs</span> <span class="attr">src</span>=<span class="string">&quot;./../tools.wxs&quot;</span> <span class="attr">module</span>=<span class="string">&quot;tools&quot;</span> /&gt;</span></span><br><span class="line">// var tools = require(&quot;./tools.wxs&quot;);</span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;tools.msg&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;tools.bar(tools.FOO)&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ <code>&lt;wxs&gt;</code> æ ‡ç­¾æˆ–è€… <code>require()</code> å‡½æ•°å¼•å…¥ã€‚</p>
<h3 id="require-å‡½æ•°"><a href="#require-å‡½æ•°" class="headerlink" title="require å‡½æ•°"></a>require å‡½æ•°</h3><p>åœ¨<code>.wxs</code>æ¨¡å—ä¸­å¼•ç”¨å…¶ä»– <code>wxs</code> æ–‡ä»¶æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨ <code>require</code> å‡½æ•°ã€‚</p>
<p>å¼•ç”¨çš„æ—¶å€™ï¼Œè¦æ³¨æ„å¦‚ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>åªèƒ½å¼•ç”¨ <code>.wxs</code> æ–‡ä»¶æ¨¡å—ï¼Œä¸”å¿…é¡»ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚</li>
<li><code>wxs</code> æ¨¡å—å‡ä¸º<strong>å•ä¾‹</strong>ï¼Œ<code>wxs</code> æ¨¡å—åœ¨ç¬¬ä¸€æ¬¡è¢«å¼•ç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸ºå•ä¾‹å¯¹è±¡ã€‚å¤šä¸ªé¡µé¢ï¼Œå¤šä¸ªåœ°æ–¹ï¼Œå¤šæ¬¡å¼•ç”¨ï¼Œä½¿ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ª <code>wxs</code> æ¨¡å—å¯¹è±¡ã€‚</li>
<li>å¦‚æœä¸€ä¸ª <code>wxs</code> æ¨¡å—åœ¨å®šä¹‰ä¹‹åï¼Œä¸€ç›´æ²¡æœ‰è¢«å¼•ç”¨ï¼Œåˆ™è¯¥æ¨¡å—ä¸ä¼šè¢«è§£æä¸è¿è¡Œã€‚</li>
</ul>
<p>æ¨¡å—å•ä¾‹åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœå¤šä¸ªé¡µé¢å¼•å…¥çš„è¯ï¼Œæ•°æ®æ˜¯å…±äº«çš„ï¼Œå¹¶ä¸”ä¸€è¾¹æ›´æ”¹åä¹Ÿä¼šåŒæ­¥å§ã€‚</p>
<h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><ul>
<li>WXS ä¸­çš„å˜é‡å‡ä¸ºå€¼çš„å¼•ç”¨ã€‚</li>
<li>æ²¡æœ‰å£°æ˜çš„å˜é‡ç›´æ¥èµ‹å€¼ä½¿ç”¨ï¼Œä¼šè¢«å®šä¹‰ä¸ºå…¨å±€å˜é‡ã€‚</li>
<li>å¦‚æœåªå£°æ˜å˜é‡è€Œä¸èµ‹å€¼ï¼Œåˆ™é»˜è®¤å€¼ä¸º <code>undefined</code>ã€‚</li>
<li>var è¡¨ç°ä¸ javascript ä¸€è‡´ï¼Œä¼šæœ‰å˜é‡æå‡ã€‚</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´é»˜è®¤æ˜¯ä¸€ä¸ªæµ…æ‹·è´ï¼Œè€Œä¸”ä½¿ç”¨æ²¡æœ‰å£°æ˜çš„å˜é‡å¹¶ä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯å®šä¹‰ä¸ºå…¨å±€å˜é‡å¤„ç†ã€‚</p>
<h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><p>WXS è¯­è¨€ç›®å‰å…±æœ‰ä»¥ä¸‹å‡ ç§æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li><code>number</code> ï¼š æ•°å€¼</li>
<li><code>string</code> ï¼šå­—ç¬¦ä¸²</li>
<li><code>boolean</code>ï¼šå¸ƒå°”å€¼</li>
<li><code>object</code>ï¼šå¯¹è±¡</li>
<li><code>function</code>ï¼šå‡½æ•°</li>
<li><code>array</code> : æ•°ç»„</li>
<li><code>date</code>ï¼šæ—¥æœŸ</li>
<li><code>regexp</code>ï¼šæ­£åˆ™</li>
</ul>
<p>åŸºæœ¬ä¸ JS ä¸€è‡´</p>
<h1 id="æ¡†æ¶"><a href="#æ¡†æ¶" class="headerlink" title="æ¡†æ¶"></a>æ¡†æ¶</h1><h2 id="é¡µé¢ç”Ÿå‘½å‘¨æœŸ"><a href="#é¡µé¢ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="é¡µé¢ç”Ÿå‘½å‘¨æœŸ"></a>é¡µé¢ç”Ÿå‘½å‘¨æœŸ</h2><p><img src="https://res.wx.qq.com/wxdoc/dist/assets/img/page-lifecycle.2e646c86.png" alt="å¾®ä¿¡ç”Ÿå‘½å‘¨æœŸ"></p>
<table>
<thead>
<tr>
<th><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onLoad-Object-query">onLoad</a></th>
<th>ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”ç›‘å¬é¡µé¢åŠ è½½</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShow">onShow</a></td>
<td>ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”ç›‘å¬é¡µé¢æ˜¾ç¤º</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onReady">onReady</a></td>
<td>ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”ç›‘å¬é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆ</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onHide">onHide</a></td>
<td>ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”ç›‘å¬é¡µé¢éšè—</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onUnload">onUnload</a></td>
<td>ç”Ÿå‘½å‘¨æœŸå›è°ƒâ€”ç›‘å¬é¡µé¢å¸è½½</td>
</tr>
</tbody></table>
<h2 id="é¡µé¢ç›‘å¬å‡½æ•°"><a href="#é¡µé¢ç›‘å¬å‡½æ•°" class="headerlink" title="é¡µé¢ç›‘å¬å‡½æ•°"></a>é¡µé¢ç›‘å¬å‡½æ•°</h2><table>
<thead>
<tr>
<th><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onPullDownRefresh">onPullDownRefresh</a></th>
<th>ç›‘å¬ç”¨æˆ·ä¸‹æ‹‰åŠ¨ä½œ</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onReachBottom">onReachBottom</a></td>
<td>é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶çš„å¤„ç†å‡½æ•°</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShareAppMessage-Object-object">onShareAppMessage</a></td>
<td>ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’è½¬å‘</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShareTimeline">onShareTimeline</a></td>
<td>ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’è½¬å‘åˆ°æœ‹å‹åœˆ</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onAddToFavorites-Object-object">onAddToFavorites</a></td>
<td>ç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’æ”¶è—</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onPageScroll-Object-object">onPageScroll</a></td>
<td>é¡µé¢æ»šåŠ¨è§¦å‘äº‹ä»¶çš„å¤„ç†å‡½æ•°</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onResize-Object-object">onResize</a></td>
<td>é¡µé¢å°ºå¯¸æ”¹å˜æ—¶è§¦å‘ï¼Œè¯¦è§ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/resizable.html#%E5%9C%A8%E6%89%8B%E6%9C%BA%E4%B8%8A%E5%90%AF%E7%94%A8%E5%B1%8F%E5%B9%95%E6%97%8B%E8%BD%AC%E6%94%AF%E6%8C%81">å“åº”æ˜¾ç¤ºåŒºåŸŸå˜åŒ–</a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onTabItemTap-Object-object">onTabItemTap</a></td>
<td>å½“å‰æ˜¯ tab é¡µæ—¶ï¼Œç‚¹å‡» tab æ—¶è§¦å‘</td>
</tr>
</tbody></table>
<h2 id="åœ¨é¡µé¢ä¸­ä½¿ç”¨-behaviors"><a href="#åœ¨é¡µé¢ä¸­ä½¿ç”¨-behaviors" class="headerlink" title="åœ¨é¡µé¢ä¸­ä½¿ç”¨ behaviors"></a>åœ¨é¡µé¢ä¸­ä½¿ç”¨ behaviors</h2><blockquote>
<p>åŸºç¡€åº“ 2.9.2 å¼€å§‹æ”¯æŒï¼Œä½ç‰ˆæœ¬éœ€åš<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">å…¼å®¹å¤„ç†</a>ã€‚</p>
</blockquote>
<blockquote>
<p>é¡µé¢å¯ä»¥å¼•ç”¨ behaviors ã€‚ behaviors å¯ä»¥ç”¨æ¥è®©å¤šä¸ªé¡µé¢æœ‰ç›¸åŒçš„æ•°æ®å­—æ®µå’Œæ–¹æ³•ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// my-behavior.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = Behavior(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    sharedText: <span class="string">&quot;This is a piece of data shared between pages.&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sharedMethod: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.data.sharedText === <span class="string">&quot;This is a piece of data shared between pages.&quot;</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// page-a.js</span></span><br><span class="line"><span class="keyword">var</span> myBehavior = <span class="built_in">require</span>(<span class="string">&quot;./my-behavior.js&quot;</span>);</span><br><span class="line">Page(&#123;</span><br><span class="line">  behaviors: [myBehavior],</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.data.sharedText === <span class="string">&quot;This is a piece of data shared between pages.&quot;</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœç±»ä¼¼äº Storeï¼ŒState ç­‰ï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº†ç»„ä»¶ï¼ˆé¡µé¢ï¼‰é—´å…±äº«æ•°æ®åŠæ–¹æ³•ã€‚</p>
<p>åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ï¼Œç”±äºå®ƒçš„å¤šé¡µé¢ç‰¹æ€§ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªé¡µé¢ä¸ºä¸€ä¸ªå•ä½çš„ï¼Œä½†æ˜¯å½“é¡µé¢å¤æ‚èµ·æ¥åï¼Œç»„ä»¶åŒ–çš„æ€æƒ³ä¾ç„¶å¾ˆæœ‰å¿…è¦ã€‚å°†éƒ¨åˆ†å¯å¤ç”¨ã€é‡å¤æ€§çš„ä»£ç æå–æˆç»„ä»¶è¿›è¡Œä½¿ç”¨ã€‚é€šè¿‡ Component è¿›è¡Œç»„ä»¶æ³¨å†Œã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Component(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    text: <span class="string">&quot;This is page data.&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// é¡µé¢åˆ›å»ºæ—¶æ‰§è¡Œ</span></span><br><span class="line">    &#125;,</span><br><span class="line">    onPullDownRefresh: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// ä¸‹æ‹‰åˆ·æ–°æ—¶æ‰§è¡Œ</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// äº‹ä»¶å“åº”å‡½æ•°</span></span><br><span class="line">    viewTap: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ä¸ <code>Page()</code> æ˜æ˜¾ä¸åŒçš„æ˜¯æ–¹æ³•æ”¾åœ¨ <code>methods</code> ä¸­ï¼Œåœ¨ç»„ä»¶ä¸­ä¹Ÿå¯ä»¥è‡ªç”±ä½¿ç”¨ <code>behaviors</code> ç­‰å±æ€§ã€‚</p>
<h2 id="é¡µé¢è·¯ç”±"><a href="#é¡µé¢è·¯ç”±" class="headerlink" title="é¡µé¢è·¯ç”±"></a>é¡µé¢è·¯ç”±</h2><h3 id="é¡µé¢æ ˆ"><a href="#é¡µé¢æ ˆ" class="headerlink" title="é¡µé¢æ ˆ"></a>é¡µé¢æ ˆ</h3><p>æ¡†æ¶ä»¥æ ˆçš„å½¢å¼ç»´æŠ¤äº†å½“å‰çš„æ‰€æœ‰é¡µé¢ã€‚ å½“å‘ç”Ÿè·¯ç”±åˆ‡æ¢çš„æ—¶å€™ï¼Œé¡µé¢æ ˆçš„è¡¨ç°å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="left">è·¯ç”±æ–¹å¼</th>
<th align="left">é¡µé¢æ ˆè¡¨ç°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">åˆå§‹åŒ–</td>
<td align="left">æ–°é¡µé¢å…¥æ ˆ</td>
</tr>
<tr>
<td align="left">æ‰“å¼€æ–°é¡µé¢</td>
<td align="left">æ–°é¡µé¢å…¥æ ˆ</td>
</tr>
<tr>
<td align="left">é¡µé¢é‡å®šå‘</td>
<td align="left">å½“å‰é¡µé¢å‡ºæ ˆï¼Œæ–°é¡µé¢å…¥æ ˆ</td>
</tr>
<tr>
<td align="left">é¡µé¢è¿”å›</td>
<td align="left">é¡µé¢ä¸æ–­å‡ºæ ˆï¼Œç›´åˆ°ç›®æ ‡è¿”å›é¡µ</td>
</tr>
<tr>
<td align="left">Tab åˆ‡æ¢</td>
<td align="left">é¡µé¢å…¨éƒ¨å‡ºæ ˆï¼Œåªç•™ä¸‹æ–°çš„ Tab é¡µé¢</td>
</tr>
<tr>
<td align="left">é‡åŠ è½½</td>
<td align="left">é¡µé¢å…¨éƒ¨å‡ºæ ˆï¼Œåªç•™ä¸‹æ–°çš„é¡µé¢</td>
</tr>
</tbody></table>
<p>å¼€å‘è€…å¯ä»¥ä½¿ç”¨ <code>getCurrentPages()</code> å‡½æ•°è·å–å½“å‰é¡µé¢æ ˆã€‚</p>
<h3 id="è·¯ç”±æ–¹å¼"><a href="#è·¯ç”±æ–¹å¼" class="headerlink" title="è·¯ç”±æ–¹å¼"></a>è·¯ç”±æ–¹å¼</h3><p>å¯¹äºè·¯ç”±çš„è§¦å‘æ–¹å¼ä»¥åŠé¡µé¢ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="left">è·¯ç”±æ–¹å¼</th>
<th align="left">è§¦å‘æ—¶æœº</th>
<th align="left">è·¯ç”±å‰é¡µé¢</th>
<th align="left">è·¯ç”±åé¡µé¢</th>
</tr>
</thead>
<tbody><tr>
<td align="left">åˆå§‹åŒ–</td>
<td align="left">å°ç¨‹åºæ‰“å¼€çš„ç¬¬ä¸€ä¸ªé¡µé¢</td>
<td align="left"></td>
<td align="left">onLoad, onShow</td>
</tr>
<tr>
<td align="left">æ‰“å¼€æ–°é¡µé¢</td>
<td align="left">è°ƒç”¨ API <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html">wx.navigateTo</a> ä½¿ç”¨ç»„ä»¶ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html"><code>&lt;navigator open-type=&quot;navigateTo&quot;/&gt;</code></a></td>
<td align="left">onHide</td>
<td align="left">onLoad, onShow</td>
</tr>
<tr>
<td align="left">é¡µé¢é‡å®šå‘</td>
<td align="left">è°ƒç”¨ API <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.redirectTo.html">wx.redirectTo</a> ä½¿ç”¨ç»„ä»¶ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html"><code>&lt;navigator open-type=&quot;redirectTo&quot;/&gt;</code></a></td>
<td align="left">onUnload</td>
<td align="left">onLoad, onShow</td>
</tr>
<tr>
<td align="left">é¡µé¢è¿”å›</td>
<td align="left">è°ƒç”¨ API <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateBack.html">wx.navigateBack</a> ä½¿ç”¨ç»„ä»¶<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html"><code>&lt;navigator open-type=&quot;navigateBack&quot;&gt;</code></a> ç”¨æˆ·æŒ‰å·¦ä¸Šè§’è¿”å›æŒ‰é’®</td>
<td align="left">onUnload</td>
<td align="left">onShow</td>
</tr>
<tr>
<td align="left">Tab åˆ‡æ¢</td>
<td align="left">è°ƒç”¨ API <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.switchTab.html">wx.switchTab</a> ä½¿ç”¨ç»„ä»¶ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html"><code>&lt;navigator open-type=&quot;switchTab&quot;/&gt;</code></a> ç”¨æˆ·åˆ‡æ¢ Tab</td>
<td align="left"></td>
<td align="left">å„ç§æƒ…å†µè¯·å‚è€ƒä¸‹è¡¨</td>
</tr>
<tr>
<td align="left">é‡å¯åŠ¨</td>
<td align="left">è°ƒç”¨ API <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.reLaunch.html">wx.reLaunch</a> ä½¿ç”¨ç»„ä»¶ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/navigator.html"><code>&lt;navigator open-type=&quot;reLaunch&quot;/&gt;</code></a></td>
<td align="left">onUnload</td>
<td align="left">onLoad, onShow</td>
</tr>
</tbody></table>
<p>Tab åˆ‡æ¢å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸï¼ˆä»¥ Aã€B é¡µé¢ä¸º Tabbar é¡µé¢ï¼ŒC æ˜¯ä» A é¡µé¢æ‰“å¼€çš„é¡µé¢ï¼ŒD é¡µé¢æ˜¯ä» C é¡µé¢æ‰“å¼€çš„é¡µé¢ä¸ºä¾‹ï¼‰ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å½“å‰é¡µé¢</th>
<th align="left">è·¯ç”±åé¡µé¢</th>
<th align="left">è§¦å‘çš„ç”Ÿå‘½å‘¨æœŸï¼ˆæŒ‰é¡ºåºï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td align="left">A</td>
<td align="left">A</td>
<td align="left">Nothing happend</td>
</tr>
<tr>
<td align="left">A</td>
<td align="left">B</td>
<td align="left">A.onHide(), B.onLoad(), B.onShow()</td>
</tr>
<tr>
<td align="left">A</td>
<td align="left">Bï¼ˆå†æ¬¡æ‰“å¼€ï¼‰</td>
<td align="left">A.onHide(), B.onShow()</td>
</tr>
<tr>
<td align="left">C</td>
<td align="left">A</td>
<td align="left">C.onUnload(), A.onShow()</td>
</tr>
<tr>
<td align="left">C</td>
<td align="left">B</td>
<td align="left">C.onUnload(), B.onLoad(), B.onShow()</td>
</tr>
<tr>
<td align="left">D</td>
<td align="left">B</td>
<td align="left">D.onUnload(), C.onUnload(), B.onLoad(), B.onShow()</td>
</tr>
<tr>
<td align="left">Dï¼ˆä»è½¬å‘è¿›å…¥ï¼‰</td>
<td align="left">A</td>
<td align="left">D.onUnload(), A.onLoad(), A.onShow()</td>
</tr>
<tr>
<td align="left">Dï¼ˆä»è½¬å‘è¿›å…¥ï¼‰</td>
<td align="left">B</td>
<td align="left">D.onUnload(), B.onLoad(), B.onShow()</td>
</tr>
</tbody></table>
<p>ç®€å•æ¥è¯´ï¼Œç”±äº C æ˜¯ä» A é¡µé¢æ‰“å¼€çš„é¡µé¢ï¼Œæ‰€ä»¥ C ç®—æ˜¯ A çš„å­é¡µé¢ï¼Œè¿”å› A æ—¶ä¸å†è¿›è¡Œ <code>A.onLoad()</code> ï¼Œå¦‚æœæ˜¯ D é¡µé¢è½¬åˆ° B é¡µé¢ï¼Œä¼šå…³é—­ D Cï¼Œä½†æ˜¯ä¸ä¼šè¿½æº¯åˆ° A é¡µé¢ã€‚</p>
<p><strong>Tips</strong>:</p>
<ul>
<li><code>navigateTo</code>, <code>redirectTo</code> åªèƒ½æ‰“å¼€é tabBar é¡µé¢ã€‚</li>
<li><code>switchTab</code> åªèƒ½æ‰“å¼€ tabBar é¡µé¢ã€‚</li>
<li><code>reLaunch</code> å¯ä»¥æ‰“å¼€ä»»æ„é¡µé¢ã€‚</li>
<li>é¡µé¢åº•éƒ¨çš„ tabBar ç”±é¡µé¢å†³å®šï¼Œå³åªè¦æ˜¯å®šä¹‰ä¸º tabBar çš„é¡µé¢ï¼Œåº•éƒ¨éƒ½æœ‰ tabBarã€‚</li>
<li>è°ƒç”¨é¡µé¢è·¯ç”±å¸¦çš„å‚æ•°å¯ä»¥åœ¨ç›®æ ‡é¡µé¢çš„<code>onLoad</code>ä¸­è·å–ã€‚</li>
</ul>
<h2 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h2><p>å¯ä»¥å°†ä¸€äº›å…¬å…±çš„ä»£ç æŠ½ç¦»æˆä¸ºä¸€ä¸ªå•ç‹¬çš„ js æ–‡ä»¶ï¼Œä½œä¸ºä¸€ä¸ªæ¨¡å—ã€‚æ¨¡å—åªæœ‰é€šè¿‡ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/module.html"><code>module.exports</code></a> æˆ–è€… <code>exports</code> æ‰èƒ½å¯¹å¤–æš´éœ²æ¥å£ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// common.js</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Hello <span class="subst">$&#123;name&#125;</span> !`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayGoodbye</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Goodbye <span class="subst">$&#123;name&#125;</span> !`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports.sayHello = sayHello;</span><br><span class="line"><span class="built_in">exports</span>.sayGoodbye = sayGoodbye;</span><br></pre></td></tr></table></figure>
<p>åœ¨éœ€è¦ä½¿ç”¨è¿™äº›æ¨¡å—çš„æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ <code>require</code> å°†å…¬å…±ä»£ç å¼•å…¥</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> common = <span class="built_in">require</span>(<span class="string">&quot;common.js&quot;</span>);</span><br><span class="line">Page(&#123;</span><br><span class="line">  helloMINA: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    common.sayHello(<span class="string">&quot;MINA&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  goodbyeMINA: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    common.sayGoodbye(<span class="string">&quot;MINA&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="äº‹ä»¶ç»‘å®š"><a href="#äº‹ä»¶ç»‘å®š" class="headerlink" title="äº‹ä»¶ç»‘å®š"></a>äº‹ä»¶ç»‘å®š</h2><h3 id="äº‹ä»¶åˆ†ç±»"><a href="#äº‹ä»¶åˆ†ç±»" class="headerlink" title="äº‹ä»¶åˆ†ç±»"></a>äº‹ä»¶åˆ†ç±»</h3><p>äº‹ä»¶åˆ†ä¸ºå†’æ³¡äº‹ä»¶å’Œéå†’æ³¡äº‹ä»¶ï¼š</p>
<ol>
<li>å†’æ³¡äº‹ä»¶ï¼šå½“ä¸€ä¸ªç»„ä»¶ä¸Šçš„äº‹ä»¶è¢«è§¦å‘åï¼Œè¯¥äº‹ä»¶ä¼šå‘çˆ¶èŠ‚ç‚¹ä¼ é€’ã€‚</li>
<li>éå†’æ³¡äº‹ä»¶ï¼šå½“ä¸€ä¸ªç»„ä»¶ä¸Šçš„äº‹ä»¶è¢«è§¦å‘åï¼Œè¯¥äº‹ä»¶ä¸ä¼šå‘çˆ¶èŠ‚ç‚¹ä¼ é€’ã€‚</li>
</ol>
<p>WXML çš„å†’æ³¡äº‹ä»¶åˆ—è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th align="left">ç±»å‹</th>
<th align="left">è§¦å‘æ¡ä»¶</th>
</tr>
</thead>
<tbody><tr>
<td align="left">touchstart</td>
<td align="left">æ‰‹æŒ‡è§¦æ‘¸åŠ¨ä½œå¼€å§‹</td>
</tr>
<tr>
<td align="left">touchmove</td>
<td align="left">æ‰‹æŒ‡è§¦æ‘¸åç§»åŠ¨</td>
</tr>
<tr>
<td align="left">touchcancel</td>
<td align="left">æ‰‹æŒ‡è§¦æ‘¸åŠ¨ä½œè¢«æ‰“æ–­ï¼Œå¦‚æ¥ç”µæé†’ï¼Œå¼¹çª—</td>
</tr>
<tr>
<td align="left">touchend</td>
<td align="left">æ‰‹æŒ‡è§¦æ‘¸åŠ¨ä½œç»“æŸ</td>
</tr>
<tr>
<td align="left">tap</td>
<td align="left">æ‰‹æŒ‡è§¦æ‘¸åé©¬ä¸Šç¦»å¼€</td>
</tr>
<tr>
<td align="left">longpress</td>
<td align="left">æ‰‹æŒ‡è§¦æ‘¸åï¼Œè¶…è¿‡ 350ms å†ç¦»å¼€ï¼Œå¦‚æœæŒ‡å®šäº†äº‹ä»¶å›è°ƒå‡½æ•°å¹¶è§¦å‘äº†è¿™ä¸ªäº‹ä»¶ï¼Œtap äº‹ä»¶å°†ä¸è¢«è§¦å‘</td>
</tr>
<tr>
<td align="left">longtap</td>
<td align="left">æ‰‹æŒ‡è§¦æ‘¸åï¼Œè¶…è¿‡ 350ms å†ç¦»å¼€ï¼ˆæ¨èä½¿ç”¨ longpress äº‹ä»¶ä»£æ›¿ï¼‰</td>
</tr>
<tr>
<td align="left">transitionend</td>
<td align="left">ä¼šåœ¨ WXSS transition æˆ– wx.createAnimation åŠ¨ç”»ç»“æŸåè§¦å‘</td>
</tr>
<tr>
<td align="left">animationstart</td>
<td align="left">ä¼šåœ¨ä¸€ä¸ª WXSS animation åŠ¨ç”»å¼€å§‹æ—¶è§¦å‘</td>
</tr>
<tr>
<td align="left">animationiteration</td>
<td align="left">ä¼šåœ¨ä¸€ä¸ª WXSS animation ä¸€æ¬¡è¿­ä»£ç»“æŸæ—¶è§¦å‘</td>
</tr>
<tr>
<td align="left">animationend</td>
<td align="left">ä¼šåœ¨ä¸€ä¸ª WXSS animation åŠ¨ç”»å®Œæˆæ—¶è§¦å‘</td>
</tr>
<tr>
<td align="left">touchforcechange</td>
<td align="left">åœ¨æ”¯æŒ 3D Touch çš„ iPhone è®¾å¤‡ï¼Œé‡æŒ‰æ—¶ä¼šè§¦å‘</td>
</tr>
</tbody></table>
<h3 id="æ™®é€šäº‹ä»¶ç»‘å®š"><a href="#æ™®é€šäº‹ä»¶ç»‘å®š" class="headerlink" title="æ™®é€šäº‹ä»¶ç»‘å®š"></a>æ™®é€šäº‹ä»¶ç»‘å®š</h3><p>äº‹ä»¶ç»‘å®šçš„å†™æ³•ç±»ä¼¼äºç»„ä»¶çš„å±æ€§ï¼Œå¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleTap&quot;</span>&gt;</span> Click here! <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœç”¨æˆ·ç‚¹å‡»è¿™ä¸ª view ï¼Œåˆ™é¡µé¢çš„ <code>handleTap</code> ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>äº‹ä»¶ç»‘å®šå‡½æ•°å¯ä»¥æ˜¯ä¸€ä¸ªæ•°æ®ç»‘å®šï¼Œå¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">&quot;&#123;&#123; handlerName &#125;&#125;&quot;</span>&gt;</span> Click here! <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶ï¼Œé¡µé¢çš„ <code>this.data.handlerName</code> å¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‡å®šäº‹ä»¶å¤„ç†å‡½æ•°åï¼›å¦‚æœå®ƒæ˜¯ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œåˆ™è¿™ä¸ªç»‘å®šä¼šå¤±æ•ˆï¼ˆå¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¥æš‚æ—¶ç¦ç”¨ä¸€äº›äº‹ä»¶ï¼‰ã€‚</p>
<p>è‡ªåŸºç¡€åº“ç‰ˆæœ¬ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a> èµ·ï¼Œåœ¨å¤§å¤šæ•°ç»„ä»¶å’Œè‡ªå®šä¹‰ç»„ä»¶ä¸­ï¼Œ <code>bind</code> åå¯ä»¥ç´§è·Ÿä¸€ä¸ªå†’å·ï¼Œå…¶å«ä¹‰ä¸å˜ï¼Œå¦‚ <code>bind:tap</code> ã€‚åŸºç¡€åº“ç‰ˆæœ¬ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.8.1</a> èµ·ï¼Œåœ¨æ‰€æœ‰ç»„ä»¶ä¸­å¼€å§‹æä¾›è¿™ä¸ªæ”¯æŒã€‚</p>
<h3 id="ç»‘å®šå¹¶é˜»æ­¢äº‹ä»¶å†’æ³¡"><a href="#ç»‘å®šå¹¶é˜»æ­¢äº‹ä»¶å†’æ³¡" class="headerlink" title="ç»‘å®šå¹¶é˜»æ­¢äº‹ä»¶å†’æ³¡"></a>ç»‘å®šå¹¶é˜»æ­¢äº‹ä»¶å†’æ³¡</h3><p>é™¤ <code>bind</code> å¤–ï¼Œä¹Ÿå¯ä»¥ç”¨ <code>catch</code> æ¥ç»‘å®šäº‹ä»¶ã€‚ä¸ <code>bind</code> ä¸åŒï¼Œ <code>catch</code> ä¼šé˜»æ­¢äº‹ä»¶å‘ä¸Šå†’æ³¡ã€‚</p>
<p>ä¾‹å¦‚åœ¨ä¸‹è¾¹è¿™ä¸ªä¾‹å­ä¸­ï¼Œç‚¹å‡» inner view ä¼šå…ˆåè°ƒç”¨<code>handleTap3</code>å’Œ<code>handleTap2</code>(å› ä¸º tap äº‹ä»¶ä¼šå†’æ³¡åˆ° middle viewï¼Œè€Œ middle view é˜»æ­¢äº† tap äº‹ä»¶å†’æ³¡ï¼Œä¸å†å‘çˆ¶èŠ‚ç‚¹ä¼ é€’)ï¼Œç‚¹å‡» middle view ä¼šè§¦å‘<code>handleTap2</code>ï¼Œç‚¹å‡» outer view ä¼šè§¦å‘<code>handleTap1</code>ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">&quot;outer&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleTap1&quot;</span>&gt;</span></span><br><span class="line">  outer view</span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">&quot;middle&quot;</span> <span class="attr">catchtap</span>=<span class="string">&quot;handleTap2&quot;</span>&gt;</span></span><br><span class="line">    middle view</span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">&quot;inner&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleTap3&quot;</span>&gt;</span> inner view <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="äº’æ–¥äº‹ä»¶ç»‘å®š"><a href="#äº’æ–¥äº‹ä»¶ç»‘å®š" class="headerlink" title="äº’æ–¥äº‹ä»¶ç»‘å®š"></a>äº’æ–¥äº‹ä»¶ç»‘å®š</h3><p>è‡ªåŸºç¡€åº“ç‰ˆæœ¬ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.8.2</a> èµ·ï¼Œé™¤ <code>bind</code> å’Œ <code>catch</code> å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>mut-bind</code> æ¥ç»‘å®šäº‹ä»¶ã€‚ä¸€ä¸ª <code>mut-bind</code> è§¦å‘åï¼Œå¦‚æœäº‹ä»¶å†’æ³¡åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šï¼Œå…¶ä»–èŠ‚ç‚¹ä¸Šçš„ <code>mut-bind</code> ç»‘å®šå‡½æ•°ä¸ä¼šè¢«è§¦å‘ï¼Œä½† <code>bind</code> ç»‘å®šå‡½æ•°å’Œ <code>catch</code> ç»‘å®šå‡½æ•°ä¾æ—§ä¼šè¢«è§¦å‘ã€‚</p>
<p>æ¢è€Œè¨€ä¹‹ï¼Œæ‰€æœ‰ <code>mut-bind</code> æ˜¯â€œäº’æ–¥â€çš„ï¼Œåªä¼šæœ‰å…¶ä¸­ä¸€ä¸ªç»‘å®šå‡½æ•°è¢«è§¦å‘ã€‚åŒæ—¶ï¼Œå®ƒå®Œå…¨ä¸å½±å“ <code>bind</code> å’Œ <code>catch</code> çš„ç»‘å®šæ•ˆæœã€‚</p>
<p>ä¾‹å¦‚åœ¨ä¸‹è¾¹è¿™ä¸ªä¾‹å­ä¸­ï¼Œç‚¹å‡» inner view ä¼šå…ˆåè°ƒç”¨ <code>handleTap3</code> å’Œ <code>handleTap2</code> ï¼Œç‚¹å‡» middle view ä¼šè°ƒç”¨ <code>handleTap2</code> å’Œ <code>handleTap1</code> ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">&quot;outer&quot;</span> <span class="attr">mut-bind:tap</span>=<span class="string">&quot;handleTap1&quot;</span>&gt;</span></span><br><span class="line">  outer view</span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">&quot;middle&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleTap2&quot;</span>&gt;</span></span><br><span class="line">    middle view</span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">&quot;inner&quot;</span> <span class="attr">mut-bind:tap</span>=<span class="string">&quot;handleTap3&quot;</span>&gt;</span> inner view <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="äº‹ä»¶çš„æ•è·é˜¶æ®µ"><a href="#äº‹ä»¶çš„æ•è·é˜¶æ®µ" class="headerlink" title="äº‹ä»¶çš„æ•è·é˜¶æ®µ"></a>äº‹ä»¶çš„æ•è·é˜¶æ®µ</h3><p>è‡ªåŸºç¡€åº“ç‰ˆæœ¬ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a> èµ·ï¼Œè§¦æ‘¸ç±»äº‹ä»¶æ”¯æŒæ•è·é˜¶æ®µã€‚æ•è·é˜¶æ®µä½äºå†’æ³¡é˜¶æ®µä¹‹å‰ï¼Œä¸”åœ¨æ•è·é˜¶æ®µä¸­ï¼Œäº‹ä»¶åˆ°è¾¾èŠ‚ç‚¹çš„é¡ºåºä¸å†’æ³¡é˜¶æ®µæ°å¥½ç›¸åã€‚éœ€è¦åœ¨æ•è·é˜¶æ®µç›‘å¬äº‹ä»¶æ—¶ï¼Œå¯ä»¥é‡‡ç”¨<code>capture-bind</code>ã€<code>capture-catch</code>å…³é”®å­—ï¼Œåè€…å°†ä¸­æ–­æ•è·é˜¶æ®µå’Œå–æ¶ˆå†’æ³¡é˜¶æ®µã€‚</p>
<p>åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œç‚¹å‡» inner view ä¼šå…ˆåè°ƒç”¨<code>handleTap2</code>ã€<code>handleTap4</code>ã€<code>handleTap3</code>ã€<code>handleTap1</code>ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;view</span><br><span class="line">  id=&quot;outer&quot;</span><br><span class="line">  bind:touchstart=&quot;handleTap1&quot;</span><br><span class="line">  capture-bind:touchstart=&quot;handleTap2&quot;</span><br><span class="line">&gt;</span><br><span class="line">  outer view</span><br><span class="line">  &lt;view</span><br><span class="line">    id=&quot;inner&quot;</span><br><span class="line">    bind:touchstart=&quot;handleTap3&quot;</span><br><span class="line">    capture-bind:touchstart=&quot;handleTap4&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    inner view</span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="è·å–ç•Œé¢ä¸Šçš„èŠ‚ç‚¹ä¿¡æ¯"><a href="#è·å–ç•Œé¢ä¸Šçš„èŠ‚ç‚¹ä¿¡æ¯" class="headerlink" title="è·å–ç•Œé¢ä¸Šçš„èŠ‚ç‚¹ä¿¡æ¯"></a>è·å–ç•Œé¢ä¸Šçš„èŠ‚ç‚¹ä¿¡æ¯</h2><h3 id="WXML-èŠ‚ç‚¹ä¿¡æ¯"><a href="#WXML-èŠ‚ç‚¹ä¿¡æ¯" class="headerlink" title="WXML èŠ‚ç‚¹ä¿¡æ¯"></a>WXML èŠ‚ç‚¹ä¿¡æ¯</h3><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/wx.createSelectorQuery.html">èŠ‚ç‚¹ä¿¡æ¯æŸ¥è¯¢ API</a> å¯ä»¥ç”¨äºè·å–èŠ‚ç‚¹å±æ€§ã€æ ·å¼ã€åœ¨ç•Œé¢ä¸Šçš„ä½ç½®ç­‰ä¿¡æ¯ã€‚</p>
<p>æœ€å¸¸è§çš„ç”¨æ³•æ˜¯ä½¿ç”¨è¿™ä¸ªæ¥å£æ¥æŸ¥è¯¢æŸä¸ªèŠ‚ç‚¹çš„å½“å‰ä½ç½®ï¼Œä»¥åŠç•Œé¢çš„æ»šåŠ¨ä½ç½®ã€‚</p>
<p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> query = wx.createSelectorQuery();</span><br><span class="line">query.select(<span class="string">&quot;#the-id&quot;</span>).boundingClientRect(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">  res.top; <span class="comment">// #the-id èŠ‚ç‚¹çš„ä¸Šè¾¹ç•Œåæ ‡ï¼ˆç›¸å¯¹äºæ˜¾ç¤ºåŒºåŸŸï¼‰</span></span><br><span class="line">&#125;);</span><br><span class="line">query.selectViewport().scrollOffset(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">  res.scrollTop; <span class="comment">// æ˜¾ç¤ºåŒºåŸŸçš„ç«–ç›´æ»šåŠ¨ä½ç½®</span></span><br><span class="line">&#125;);</span><br><span class="line">query.exec();</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œ <code>#the-id</code> æ˜¯ä¸€ä¸ªèŠ‚ç‚¹é€‰æ‹©å™¨ï¼Œä¸ CSS çš„é€‰æ‹©å™¨ç›¸è¿‘ä½†ç•¥æœ‰åŒºåˆ«ï¼Œè¯·å‚è§ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/SelectorQuery.select.html">SelectorQuery.select</a> çš„ç›¸å…³è¯´æ˜ã€‚</p>
<p>åœ¨è‡ªå®šä¹‰ç»„ä»¶æˆ–åŒ…å«è‡ªå®šä¹‰ç»„ä»¶çš„é¡µé¢ä¸­ï¼Œæ¨èä½¿ç”¨ <code>this.createSelectorQuery</code> æ¥ä»£æ›¿ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/wx.createSelectorQuery.html">wx.createSelectorQuery</a> ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿åœ¨æ­£ç¡®çš„èŒƒå›´å†…é€‰æ‹©èŠ‚ç‚¹ã€‚</p>
<h3 id="WXML-èŠ‚ç‚¹å¸ƒå±€ç›¸äº¤çŠ¶æ€"><a href="#WXML-èŠ‚ç‚¹å¸ƒå±€ç›¸äº¤çŠ¶æ€" class="headerlink" title="WXML èŠ‚ç‚¹å¸ƒå±€ç›¸äº¤çŠ¶æ€"></a>WXML èŠ‚ç‚¹å¸ƒå±€ç›¸äº¤çŠ¶æ€</h3><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/wx.createIntersectionObserver.html">èŠ‚ç‚¹å¸ƒå±€ç›¸äº¤çŠ¶æ€ API</a> å¯ç”¨äºç›‘å¬ä¸¤ä¸ªæˆ–å¤šä¸ªç»„ä»¶èŠ‚ç‚¹åœ¨å¸ƒå±€ä½ç½®ä¸Šçš„ç›¸äº¤çŠ¶æ€ã€‚è¿™ä¸€ç»„ API å¸¸å¸¸å¯ä»¥ç”¨äºæ¨æ–­æŸäº›èŠ‚ç‚¹æ˜¯å¦å¯ä»¥è¢«ç”¨æˆ·çœ‹è§ã€æœ‰å¤šå¤§æ¯”ä¾‹å¯ä»¥è¢«ç”¨æˆ·çœ‹è§ã€‚</p>
<p>è¿™ä¸ª API ä¸»è¦æ˜¯ä¸ºäº†ç»™å°ç¨‹åºçš„äº’åŠ¨æä¾›æ›´å¤šçš„é…ç½®ï¼Œæ¯”å¦‚ H5 ä¸­çš„æ‹–æ”¾åŠŸèƒ½å°±å¯ä»¥å’Œè¿™ä¸ª API è¿›è¡Œæ­é…ä½¿ç”¨ã€‚</p>
<p>è¿™ä¸€ç»„ API æ¶‰åŠçš„ä¸»è¦æ¦‚å¿µå¦‚ä¸‹ã€‚</p>
<ul>
<li>å‚ç…§èŠ‚ç‚¹ï¼šç›‘å¬çš„å‚ç…§èŠ‚ç‚¹ï¼Œå–å®ƒçš„å¸ƒå±€åŒºåŸŸä½œä¸ºå‚ç…§åŒºåŸŸã€‚å¦‚æœæœ‰å¤šä¸ªå‚ç…§èŠ‚ç‚¹ï¼Œåˆ™ä¼šå–å®ƒä»¬å¸ƒå±€åŒºåŸŸçš„ <strong>äº¤é›†</strong> ä½œä¸ºå‚ç…§åŒºåŸŸã€‚é¡µé¢æ˜¾ç¤ºåŒºåŸŸä¹Ÿå¯ä½œä¸ºå‚ç…§åŒºåŸŸä¹‹ä¸€ã€‚</li>
<li>ç›®æ ‡èŠ‚ç‚¹ï¼šç›‘å¬çš„ç›®æ ‡ï¼Œé»˜è®¤åªèƒ½æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆä½¿ç”¨ <code>selectAll</code> é€‰é¡¹æ—¶ï¼Œå¯ä»¥åŒæ—¶ç›‘å¬å¤šä¸ªèŠ‚ç‚¹ï¼‰ã€‚</li>
<li>ç›¸äº¤åŒºåŸŸï¼šç›®æ ‡èŠ‚ç‚¹çš„å¸ƒå±€åŒºåŸŸä¸å‚ç…§åŒºåŸŸçš„ç›¸äº¤åŒºåŸŸã€‚</li>
<li>ç›¸äº¤æ¯”ä¾‹ï¼šç›¸äº¤åŒºåŸŸå å‚ç…§åŒºåŸŸçš„æ¯”ä¾‹ã€‚</li>
<li>é˜ˆå€¼ï¼šç›¸äº¤æ¯”ä¾‹å¦‚æœè¾¾åˆ°é˜ˆå€¼ï¼Œåˆ™ä¼šè§¦å‘ç›‘å¬å™¨çš„å›è°ƒå‡½æ•°ã€‚é˜ˆå€¼å¯ä»¥æœ‰å¤šä¸ªã€‚</li>
</ul>
<p>ä»¥ä¸‹ç¤ºä¾‹ä»£ç å¯ä»¥åœ¨ç›®æ ‡èŠ‚ç‚¹ï¼ˆç”¨é€‰æ‹©å™¨ <code>.target-class</code> æŒ‡å®šï¼‰æ¯æ¬¡è¿›å…¥æˆ–ç¦»å¼€é¡µé¢æ˜¾ç¤ºåŒºåŸŸæ—¶ï¼Œè§¦å‘å›è°ƒå‡½æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    wx.createIntersectionObserver()</span><br><span class="line">      .relativeToViewport()</span><br><span class="line">      .observe(<span class="string">&quot;.target-class&quot;</span>, <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        res.id; <span class="comment">// ç›®æ ‡èŠ‚ç‚¹ id</span></span><br><span class="line">        res.dataset; <span class="comment">// ç›®æ ‡èŠ‚ç‚¹ dataset</span></span><br><span class="line">        res.intersectionRatio; <span class="comment">// ç›¸äº¤åŒºåŸŸå ç›®æ ‡èŠ‚ç‚¹çš„å¸ƒå±€åŒºåŸŸçš„æ¯”ä¾‹</span></span><br><span class="line">        res.intersectionRect; <span class="comment">// ç›¸äº¤åŒºåŸŸ</span></span><br><span class="line">        res.intersectionRect.left; <span class="comment">// ç›¸äº¤åŒºåŸŸçš„å·¦è¾¹ç•Œåæ ‡</span></span><br><span class="line">        res.intersectionRect.top; <span class="comment">// ç›¸äº¤åŒºåŸŸçš„ä¸Šè¾¹ç•Œåæ ‡</span></span><br><span class="line">        res.intersectionRect.width; <span class="comment">// ç›¸äº¤åŒºåŸŸçš„å®½åº¦</span></span><br><span class="line">        res.intersectionRect.height; <span class="comment">// ç›¸äº¤åŒºåŸŸçš„é«˜åº¦</span></span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸‹ç¤ºä¾‹ä»£ç å¯ä»¥åœ¨ç›®æ ‡èŠ‚ç‚¹ï¼ˆç”¨é€‰æ‹©å™¨ <code>.target-class</code> æŒ‡å®šï¼‰ä¸å‚ç…§èŠ‚ç‚¹ï¼ˆç”¨é€‰æ‹©å™¨ <code>.relative-class</code> æŒ‡å®šï¼‰åœ¨é¡µé¢æ˜¾ç¤ºåŒºåŸŸå†…ç›¸äº¤æˆ–ç›¸ç¦»ï¼Œä¸”ç›¸äº¤æˆ–ç›¸ç¦»ç¨‹åº¦è¾¾åˆ°ç›®æ ‡èŠ‚ç‚¹å¸ƒå±€åŒºåŸŸçš„ 20%å’Œ 50%æ—¶ï¼Œè§¦å‘å›è°ƒå‡½æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    wx.createIntersectionObserver(<span class="built_in">this</span>, &#123;</span><br><span class="line">      thresholds: [<span class="number">0.2</span>, <span class="number">0.5</span>],</span><br><span class="line">    &#125;)</span><br><span class="line">      .relativeTo(<span class="string">&quot;.relative-class&quot;</span>)</span><br><span class="line">      .relativeToViewport()</span><br><span class="line">      .observe(<span class="string">&quot;.target-class&quot;</span>, <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        res.intersectionRatio; <span class="comment">// ç›¸äº¤åŒºåŸŸå ç›®æ ‡èŠ‚ç‚¹çš„å¸ƒå±€åŒºåŸŸçš„æ¯”ä¾‹</span></span><br><span class="line">        res.intersectionRect; <span class="comment">// ç›¸äº¤åŒºåŸŸ</span></span><br><span class="line">        res.intersectionRect.left; <span class="comment">// ç›¸äº¤åŒºåŸŸçš„å·¦è¾¹ç•Œåæ ‡</span></span><br><span class="line">        res.intersectionRect.top; <span class="comment">// ç›¸äº¤åŒºåŸŸçš„ä¸Šè¾¹ç•Œåæ ‡</span></span><br><span class="line">        res.intersectionRect.width; <span class="comment">// ç›¸äº¤åŒºåŸŸçš„å®½åº¦</span></span><br><span class="line">        res.intersectionRect.height; <span class="comment">// ç›¸äº¤åŒºåŸŸçš„é«˜åº¦</span></span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šä¸é¡µé¢æ˜¾ç¤ºåŒºåŸŸçš„ç›¸äº¤åŒºåŸŸå¹¶ä¸å‡†ç¡®ä»£è¡¨ç”¨æˆ·å¯è§çš„åŒºåŸŸï¼Œå› ä¸ºå‚ä¸è®¡ç®—çš„åŒºåŸŸæ˜¯â€œå¸ƒå±€åŒºåŸŸâ€ï¼Œå¸ƒå±€åŒºåŸŸå¯èƒ½ä¼šåœ¨ç»˜åˆ¶æ—¶è¢«å…¶ä»–èŠ‚ç‚¹è£å‰ªéšè—ï¼ˆå¦‚é‡ç¥–å…ˆèŠ‚ç‚¹ä¸­ overflow æ ·å¼ä¸º hidden çš„èŠ‚ç‚¹ï¼‰æˆ–é®ç›–ï¼ˆå¦‚é‡ fixed å®šä½çš„èŠ‚ç‚¹ï¼‰ã€‚</p>
<h2 id="ç»„ä»¶é—´é€šä¿¡ä¸äº‹ä»¶"><a href="#ç»„ä»¶é—´é€šä¿¡ä¸äº‹ä»¶" class="headerlink" title="ç»„ä»¶é—´é€šä¿¡ä¸äº‹ä»¶"></a>ç»„ä»¶é—´é€šä¿¡ä¸äº‹ä»¶</h2><h3 id="ç»„ä»¶é—´é€šä¿¡"><a href="#ç»„ä»¶é—´é€šä¿¡" class="headerlink" title="ç»„ä»¶é—´é€šä¿¡"></a>ç»„ä»¶é—´é€šä¿¡</h3><p>ç»„ä»¶é—´çš„åŸºæœ¬é€šä¿¡æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ã€‚</p>
<ul>
<li><p>WXML æ•°æ®ç»‘å®šï¼šç”¨äºçˆ¶ç»„ä»¶å‘å­ç»„ä»¶çš„æŒ‡å®šå±æ€§è®¾ç½®æ•°æ®ï¼Œä»…èƒ½è®¾ç½® JSON å…¼å®¹æ•°æ®ï¼ˆè‡ªåŸºç¡€åº“ç‰ˆæœ¬ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.0.9</a> å¼€å§‹ï¼Œè¿˜å¯ä»¥åœ¨æ•°æ®ä¸­åŒ…å«å‡½æ•°ï¼‰ã€‚å…·ä½“åœ¨ <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/wxml-wxss.html">ç»„ä»¶æ¨¡æ¿å’Œæ ·å¼</a> ç« èŠ‚ä¸­ä»‹ç»ã€‚</p>
</li>
<li><p>äº‹ä»¶ï¼šç”¨äºå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå¯ä»¥ä¼ é€’ä»»æ„æ•°æ®ã€‚</p>
<blockquote>
<p>äº‹ä»¶æœ¬èº«æ˜¯é€šè¿‡å†’æ³¡å’Œæ•è·é˜¶æ®µè¿›è¡Œä¼ é€’çš„ï¼Œå¦‚æœäº‹ä»¶è®¾ç½®äº†ä¸å†’æ³¡ï¼Œé‚£ä¹ˆçˆ¶ç»„ä»¶è‡ªç„¶æ˜¯ç›‘å¬ä¸åˆ°è¿™ä¸ªäº‹ä»¶çš„ã€‚</p>
</blockquote>
</li>
<li><p>å¦‚æœä»¥ä¸Šä¸¤ç§æ–¹å¼ä¸è¶³ä»¥æ»¡è¶³éœ€è¦ï¼Œçˆ¶ç»„ä»¶è¿˜å¯ä»¥é€šè¿‡ <code>this.selectComponent</code> æ–¹æ³•è·å–å­ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼Œè¿™æ ·å°±å¯ä»¥ç›´æ¥è®¿é—®ç»„ä»¶çš„ä»»æ„æ•°æ®å’Œæ–¹æ³•ã€‚</p>
</li>
</ul>
<h3 id="è§¦å‘äº‹ä»¶"><a href="#è§¦å‘äº‹ä»¶" class="headerlink" title="è§¦å‘äº‹ä»¶"></a>è§¦å‘äº‹ä»¶</h3><p>è‡ªå®šä¹‰ç»„ä»¶è§¦å‘äº‹ä»¶æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <code>triggerEvent</code> æ–¹æ³•ï¼ŒæŒ‡å®šäº‹ä»¶åã€detail å¯¹è±¡å’Œäº‹ä»¶é€‰é¡¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// é¡µé¢ page.wxml</span><br><span class="line"><span class="tag">&lt;<span class="name">another-component</span> <span class="attr">bindcustomevent</span>=<span class="string">&quot;pageEventListener1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-component</span> <span class="attr">bindcustomevent</span>=<span class="string">&quot;pageEventListener2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">another-component</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// ç»„ä»¶ another-component.wxml</span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">bindcustomevent</span>=<span class="string">&quot;anotherEventListener&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// ç»„ä»¶ my-component.wxml</span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">bindcustomevent</span>=<span class="string">&quot;myEventListener&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»„ä»¶ my-component.js</span></span><br><span class="line">Component(&#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onTap: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.triggerEvent(<span class="string">&quot;customevent&quot;</span>, &#123;&#125;); <span class="comment">// åªä¼šè§¦å‘ pageEventListener2</span></span><br><span class="line">      <span class="built_in">this</span>.triggerEvent(<span class="string">&quot;customevent&quot;</span>, &#123;&#125;, &#123; <span class="attr">bubbles</span>: <span class="literal">true</span> &#125;); <span class="comment">// ä¼šä¾æ¬¡è§¦å‘ pageEventListener2 ã€ pageEventListener1</span></span><br><span class="line">      <span class="built_in">this</span>.triggerEvent(<span class="string">&quot;customevent&quot;</span>, &#123;&#125;, &#123; <span class="attr">bubbles</span>: <span class="literal">true</span>, <span class="attr">composed</span>: <span class="literal">true</span> &#125;); <span class="comment">// ä¼šä¾æ¬¡è§¦å‘ pageEventListener2 ã€ anotherEventListener ã€ pageEventListener1</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th align="left">é€‰é¡¹å</th>
<th align="left">ç±»å‹</th>
<th align="left">æ˜¯å¦å¿…å¡«</th>
<th align="left">é»˜è®¤å€¼</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">bubbles</td>
<td align="left">Boolean</td>
<td align="left">å¦</td>
<td align="left">false</td>
<td align="left">äº‹ä»¶æ˜¯å¦å†’æ³¡</td>
</tr>
<tr>
<td align="left">composed</td>
<td align="left">Boolean</td>
<td align="left">å¦</td>
<td align="left">false</td>
<td align="left">äº‹ä»¶æ˜¯å¦å¯ä»¥ç©¿è¶Šç»„ä»¶è¾¹ç•Œï¼Œä¸º false æ—¶ï¼Œäº‹ä»¶å°†åªèƒ½åœ¨å¼•ç”¨ç»„ä»¶çš„èŠ‚ç‚¹æ ‘ä¸Šè§¦å‘ï¼Œä¸è¿›å…¥å…¶ä»–ä»»ä½•ç»„ä»¶å†…éƒ¨</td>
</tr>
<tr>
<td align="left">capturePhase</td>
<td align="left">Boolean</td>
<td align="left">å¦</td>
<td align="left">false</td>
<td align="left">äº‹ä»¶æ˜¯å¦æ‹¥æœ‰æ•è·é˜¶æ®µ</td>
</tr>
</tbody></table>
<h3 id="è·å–ç»„ä»¶å®ä¾‹"><a href="#è·å–ç»„ä»¶å®ä¾‹" class="headerlink" title="è·å–ç»„ä»¶å®ä¾‹"></a>è·å–ç»„ä»¶å®ä¾‹</h3><p>å¯åœ¨çˆ¶ç»„ä»¶é‡Œè°ƒç”¨ <code>this.selectComponent</code> ï¼Œè·å–å­ç»„ä»¶çš„å®ä¾‹å¯¹è±¡ã€‚ï¼ˆæ’ä»¶çš„è‡ªå®šä¹‰ç»„ä»¶å°†è¿”å› <code>null</code>ï¼‰</p>
<p>è°ƒç”¨æ—¶éœ€è¦ä¼ å…¥ä¸€ä¸ªåŒ¹é…é€‰æ‹©å™¨ <code>selector</code>ï¼Œå¦‚ï¼š<code>this.selectComponent(&quot;.my-component&quot;)</code>ã€‚</p>
<p>çˆ¶ç»„ä»¶å°†ä¼šè·å– <code>class</code> ä¸º <code>my-component</code> çš„å­ç»„ä»¶å®ä¾‹å¯¹è±¡ï¼Œå³å­ç»„ä»¶çš„ <code>this</code> ã€‚</p>
<p>è‹¥éœ€è¦è‡ªå®šä¹‰ <code>selectComponent</code> è¿”å›çš„æ•°æ®ï¼Œå¯ä½¿ç”¨å†…ç½® <code>behavior</code>: <code>wx://component-export</code></p>
<h2 id="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h2><p>å¯ç”¨çš„å…¨éƒ¨ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>
<table>
<thead>
<tr>
<th align="left">ç”Ÿå‘½å‘¨æœŸ</th>
<th align="left">å‚æ•°</th>
<th align="left">æè¿°</th>
<th align="left">æœ€ä½ç‰ˆæœ¬</th>
</tr>
</thead>
<tbody><tr>
<td align="left">created</td>
<td align="left">æ— </td>
<td align="left">åœ¨ç»„ä»¶å®ä¾‹åˆšåˆšè¢«åˆ›å»ºæ—¶æ‰§è¡Œ</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.6.3</a></td>
</tr>
<tr>
<td align="left">attached</td>
<td align="left">æ— </td>
<td align="left">åœ¨ç»„ä»¶å®ä¾‹è¿›å…¥é¡µé¢èŠ‚ç‚¹æ ‘æ—¶æ‰§è¡Œ</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.6.3</a></td>
</tr>
<tr>
<td align="left">ready</td>
<td align="left">æ— </td>
<td align="left">åœ¨ç»„ä»¶åœ¨è§†å›¾å±‚å¸ƒå±€å®Œæˆåæ‰§è¡Œ</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.6.3</a></td>
</tr>
<tr>
<td align="left">moved</td>
<td align="left">æ— </td>
<td align="left">åœ¨ç»„ä»¶å®ä¾‹è¢«ç§»åŠ¨åˆ°èŠ‚ç‚¹æ ‘å¦ä¸€ä¸ªä½ç½®æ—¶æ‰§è¡Œ</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.6.3</a></td>
</tr>
<tr>
<td align="left">detached</td>
<td align="left">æ— </td>
<td align="left">åœ¨ç»„ä»¶å®ä¾‹è¢«ä»é¡µé¢èŠ‚ç‚¹æ ‘ç§»é™¤æ—¶æ‰§è¡Œ</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.6.3</a></td>
</tr>
<tr>
<td align="left">error</td>
<td align="left"><code>Object Error</code></td>
<td align="left">æ¯å½“ç»„ä»¶æ–¹æ³•æŠ›å‡ºé”™è¯¯æ—¶æ‰§è¡Œ</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.1</a></td>
</tr>
</tbody></table>
<h3 id="ç»„ä»¶æ‰€åœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#ç»„ä»¶æ‰€åœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç»„ä»¶æ‰€åœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ"></a>ç»„ä»¶æ‰€åœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ</h3><p>è¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒä»¬å¹¶éä¸ç»„ä»¶æœ‰å¾ˆå¼ºçš„å…³è”ï¼Œä½†æœ‰æ—¶ç»„ä»¶éœ€è¦è·çŸ¥ï¼Œä»¥ä¾¿ç»„ä»¶å†…éƒ¨å¤„ç†ã€‚è¿™æ ·çš„ç”Ÿå‘½å‘¨æœŸç§°ä¸ºâ€œç»„ä»¶æ‰€åœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸâ€ï¼Œåœ¨ <code>pageLifetimes</code> å®šä¹‰æ®µä¸­å®šä¹‰ã€‚å…¶ä¸­å¯ç”¨çš„ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ï¼š</p>
<table>
<thead>
<tr>
<th align="left">ç”Ÿå‘½å‘¨æœŸ</th>
<th align="left">å‚æ•°</th>
<th align="left">æè¿°</th>
<th align="left">æœ€ä½ç‰ˆæœ¬</th>
</tr>
</thead>
<tbody><tr>
<td align="left">show</td>
<td align="left">æ— </td>
<td align="left">ç»„ä»¶æ‰€åœ¨çš„é¡µé¢è¢«å±•ç¤ºæ—¶æ‰§è¡Œ</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.2.3</a></td>
</tr>
<tr>
<td align="left">hide</td>
<td align="left">æ— </td>
<td align="left">ç»„ä»¶æ‰€åœ¨çš„é¡µé¢è¢«éšè—æ—¶æ‰§è¡Œ</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.2.3</a></td>
</tr>
<tr>
<td align="left">resize</td>
<td align="left"><code>Object Size</code></td>
<td align="left">ç»„ä»¶æ‰€åœ¨çš„é¡µé¢å°ºå¯¸å˜åŒ–æ—¶æ‰§è¡Œ</td>
<td align="left"><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.4.0</a></td>
</tr>
</tbody></table>
<h2 id="behaviors"><a href="#behaviors" class="headerlink" title="behaviors"></a>behaviors</h2><p><code>behaviors</code> æ˜¯ç”¨äºç»„ä»¶é—´ä»£ç å…±äº«çš„ç‰¹æ€§ï¼Œç±»ä¼¼äºä¸€äº›ç¼–ç¨‹è¯­è¨€ä¸­çš„ â€œmixinsâ€ æˆ– â€œtraitsâ€ã€‚</p>
<p>æ¯ä¸ª <code>behavior</code> å¯ä»¥åŒ…å«ä¸€ç»„å±æ€§ã€æ•°æ®ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°å’Œæ–¹æ³•ã€‚<strong>ç»„ä»¶å¼•ç”¨å®ƒæ—¶ï¼Œå®ƒçš„å±æ€§ã€æ•°æ®å’Œæ–¹æ³•ä¼šè¢«åˆå¹¶åˆ°ç»„ä»¶ä¸­ï¼Œç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹Ÿä¼šåœ¨å¯¹åº”æ—¶æœºè¢«è°ƒç”¨ã€‚</strong> æ¯ä¸ªç»„ä»¶å¯ä»¥å¼•ç”¨å¤šä¸ª <code>behavior</code> ï¼Œ<code>behavior</code> ä¹Ÿå¯ä»¥å¼•ç”¨å…¶å®ƒ <code>behavior</code> ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// my-behavior.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = Behavior(&#123;</span><br><span class="line">  behaviors: [],</span><br><span class="line">  properties: &#123;</span><br><span class="line">    myBehaviorProperty: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    myBehaviorData: &#123;&#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  attached: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    myBehaviorMethod: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// behavior æ˜¯é€šè¿‡ Behavior å¯¹è±¡å»ºç«‹çš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// my-component.js</span></span><br><span class="line"><span class="keyword">var</span> myBehavior = <span class="built_in">require</span>(<span class="string">&quot;my-behavior&quot;</span>);</span><br><span class="line">Component(&#123;</span><br><span class="line">  behaviors: [myBehavior],</span><br><span class="line">  properties: &#123;</span><br><span class="line">    myProperty: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    myData: <span class="string">&quot;my-component-data&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  created: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;[my-component] created&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  attached: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;[my-component] attached&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  ready: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;[my-component] ready&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    myMethod: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;[my-component] log by myMethod&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šä¾‹ä¸­ï¼Œ <code>my-component</code> ç»„ä»¶å®šä¹‰ä¸­åŠ å…¥äº† <code>my-behavior</code>ï¼Œ</p>
<p>è€Œ <code>my-behavior</code> ç»“æ„ä¸ºï¼š</p>
<ul>
<li>å±æ€§ï¼š<code>myBehaviorProperty</code></li>
<li>æ•°æ®å­—æ®µï¼š<code>myBehaviorData</code></li>
<li>æ–¹æ³•ï¼š<code>myBehaviorMethod</code></li>
<li>ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š<code>attached</code>ã€<code>created</code>ã€<code>ready</code></li>
</ul>
<p>è¿™å°†ä½¿ <code>my-component</code> æœ€ç»ˆç»“æ„ä¸ºï¼š</p>
<ul>
<li>å±æ€§ï¼š<code>myBehaviorProperty</code>ã€<code>myProperty</code></li>
<li>æ•°æ®å­—æ®µï¼š<code>myBehaviorData</code>ã€<code>myData</code></li>
<li>æ–¹æ³•ï¼š<code>myBehaviorMethod</code>ã€<code>myMethod</code></li>
<li>ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š<code>attached</code>ã€<code>created</code>ã€<code>ready</code></li>
</ul>
<p>å½“ç»„ä»¶è§¦å‘ç”Ÿå‘½å‘¨æœŸæ—¶ï¼Œä¸Šä¾‹ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ‰§è¡Œé¡ºåºä¸ºï¼š</p>
<ol>
<li><code>[my-behavior] created</code></li>
<li><code>[my-component] created</code></li>
<li><code>[my-behavior] attached</code></li>
<li><code>[my-component] attached</code></li>
<li><code>[my-behavior] ready</code></li>
<li><code>[my-component] ready</code></li>
</ol>
<p>å§‹ç»ˆæ˜¯å…ˆæ‰§è¡Œ <code>my-behavior</code> åˆå§‹åŒ–ã€‚</p>
<h3 id="åŒåå­—æ®µçš„è¦†ç›–å’Œç»„åˆè§„åˆ™"><a href="#åŒåå­—æ®µçš„è¦†ç›–å’Œç»„åˆè§„åˆ™" class="headerlink" title="åŒåå­—æ®µçš„è¦†ç›–å’Œç»„åˆè§„åˆ™"></a>åŒåå­—æ®µçš„è¦†ç›–å’Œç»„åˆè§„åˆ™</h3><p>ç»„ä»¶å’Œå®ƒå¼•ç”¨çš„ <code>behavior</code> ä¸­å¯ä»¥åŒ…å«åŒåçš„å­—æ®µï¼Œå¯¹è¿™äº›å­—æ®µçš„å¤„ç†æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¦‚æœæœ‰åŒåçš„å±æ€§ (properties) æˆ–æ–¹æ³• (methods)ï¼š<ol>
<li>è‹¥ç»„ä»¶æœ¬èº«æœ‰è¿™ä¸ªå±æ€§æˆ–æ–¹æ³•ï¼Œåˆ™ç»„ä»¶çš„å±æ€§æˆ–æ–¹æ³•ä¼šè¦†ç›– <code>behavior</code> ä¸­çš„åŒåå±æ€§æˆ–æ–¹æ³•ï¼›</li>
<li>è‹¥ç»„ä»¶æœ¬èº«æ— è¿™ä¸ªå±æ€§æˆ–æ–¹æ³•ï¼Œåˆ™åœ¨ç»„ä»¶çš„ <code>behaviors</code> å­—æ®µä¸­å®šä¹‰é åçš„ <code>behavior</code> çš„å±æ€§æˆ–æ–¹æ³•ä¼šè¦†ç›–é å‰çš„åŒåå±æ€§æˆ–æ–¹æ³•ï¼›</li>
<li>åœ¨ 2 çš„åŸºç¡€ä¸Šï¼Œè‹¥å­˜åœ¨åµŒå¥—å¼•ç”¨ <code>behavior</code> çš„æƒ…å†µï¼Œåˆ™è§„åˆ™ä¸ºï¼š<code>çˆ¶ behavior</code> è¦†ç›– <code>å­ behavior</code> ä¸­çš„åŒåå±æ€§æˆ–æ–¹æ³•ã€‚</li>
</ol>
</li>
<li>å¦‚æœæœ‰åŒåçš„æ•°æ®å­—æ®µ (data)ï¼š<ul>
<li>è‹¥åŒåçš„æ•°æ®å­—æ®µéƒ½æ˜¯å¯¹è±¡ç±»å‹ï¼Œä¼šè¿›è¡Œå¯¹è±¡åˆå¹¶ï¼›</li>
<li>å…¶ä½™æƒ…å†µä¼šè¿›è¡Œæ•°æ®è¦†ç›–ï¼Œè¦†ç›–è§„åˆ™ä¸ºï¼šç»„ä»¶ &gt; <code>çˆ¶ behavior</code> &gt; <code>å­ behavior</code> ã€ <code>é åçš„ behavior</code> &gt; <code>é å‰çš„ behavior</code>ã€‚ï¼ˆä¼˜å…ˆçº§é«˜çš„è¦†ç›–ä¼˜å…ˆçº§ä½çš„ï¼Œæœ€å¤§çš„ä¸ºä¼˜å…ˆçº§æœ€é«˜ï¼‰</li>
</ul>
</li>
<li>ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸ä¼šç›¸äº’è¦†ç›–ï¼Œè€Œæ˜¯åœ¨å¯¹åº”è§¦å‘æ—¶æœºè¢«é€ä¸ªè°ƒç”¨ï¼š<ul>
<li>å¯¹äºä¸åŒçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹‹é—´ï¼Œéµå¾ªç»„ä»¶ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„æ‰§è¡Œé¡ºåºï¼›</li>
<li>å¯¹äºåŒç§ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œéµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š<ul>
<li><code>behavior</code> ä¼˜å…ˆäºç»„ä»¶æ‰§è¡Œï¼›</li>
<li><code>å­ behavior</code> ä¼˜å…ˆäº <code>çˆ¶ behavior</code> æ‰§è¡Œï¼›</li>
<li><code>é å‰çš„ behavior</code> ä¼˜å…ˆäº <code>é åçš„ behavior</code> æ‰§è¡Œï¼›</li>
</ul>
</li>
<li>å¦‚æœåŒä¸€ä¸ª <code>behavior</code> è¢«ä¸€ä¸ªç»„ä»¶å¤šæ¬¡å¼•ç”¨ï¼Œå®ƒå®šä¹‰çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡ã€‚</li>
</ul>
</li>
</ul>
<h2 id="ç»„ä»¶é—´å…³ç³»"><a href="#ç»„ä»¶é—´å…³ç³»" class="headerlink" title="ç»„ä»¶é—´å…³ç³»"></a>ç»„ä»¶é—´å…³ç³»</h2>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%AD%A6%E4%B9%A0%E5%89%8D%E7%AB%AF/" rel="tag"># å­¦ä¹ å‰ç«¯</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/06/19/JQuery%E4%B8%80%E8%A7%88/" rel="prev" title="JQueryä¸€è§ˆ">
      <i class="fa fa-chevron-left"></i> JQueryä¸€è§ˆ
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/12/23/%E5%B7%A5%E4%BD%9C%E7%BB%8F%E9%AA%8C/" rel="next" title="ä¸èƒ½åœæ­¢å­¦ä¹ å•Š">
      ä¸èƒ½åœæ­¢å­¦ä¹ å•Š <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#WXML"><span class="nav-number">1.</span> <span class="nav-text">WXML</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="nav-number">1.1.</span> <span class="nav-text">æ•°æ®ç»‘å®š</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="nav-number">1.2.</span> <span class="nav-text">åˆ—è¡¨æ¸²æŸ“</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#wx-for"><span class="nav-number">1.2.1.</span> <span class="nav-text">wx:for</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#block-wx-for"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">block wx:for</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#wx-key"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">wx:key</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="nav-number">1.3.</span> <span class="nav-text">æ¡ä»¶æ¸²æŸ“</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#wx-if"><span class="nav-number">1.3.1.</span> <span class="nav-text">wx:if</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#block-wx-if"><span class="nav-number">1.3.2.</span> <span class="nav-text">block wx:if</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#wx-if-vs-hidden"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">wx:if vs hidden</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF"><span class="nav-number">1.4.</span> <span class="nav-text">æ¨¡æ¿</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E6%A8%A1%E6%9D%BF"><span class="nav-number">1.4.1.</span> <span class="nav-text">å®šä¹‰æ¨¡æ¿</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF"><span class="nav-number">1.4.2.</span> <span class="nav-text">ä½¿ç”¨æ¨¡æ¿</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E7%94%A8"><span class="nav-number">1.5.</span> <span class="nav-text">å¼•ç”¨</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#import"><span class="nav-number">1.5.1.</span> <span class="nav-text">import</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#import-%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-number">1.5.2.</span> <span class="nav-text">import çš„ä½œç”¨åŸŸ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#include"><span class="nav-number">1.5.3.</span> <span class="nav-text">include</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%89%E5%85%B3-XML-%E7%9A%84%E4%BA%8B%E6%83%85"><span class="nav-number">1.6.</span> <span class="nav-text">æœ‰å…³ XML çš„äº‹æƒ…</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#WXS"><span class="nav-number">2.</span> <span class="nav-text">WXS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97"><span class="nav-number">2.1.</span> <span class="nav-text">æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#require-%E5%87%BD%E6%95%B0"><span class="nav-number">2.1.1.</span> <span class="nav-text">require å‡½æ•°</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-number">2.2.</span> <span class="nav-text">å˜é‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-number">2.2.1.</span> <span class="nav-text">æ¦‚å¿µ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.3.</span> <span class="nav-text">æ•°æ®ç±»å‹</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A1%86%E6%9E%B6"><span class="nav-number">3.</span> <span class="nav-text">æ¡†æ¶</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">3.1.</span> <span class="nav-text">é¡µé¢ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E7%9B%91%E5%90%AC%E5%87%BD%E6%95%B0"><span class="nav-number">3.2.</span> <span class="nav-text">é¡µé¢ç›‘å¬å‡½æ•°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8%E9%A1%B5%E9%9D%A2%E4%B8%AD%E4%BD%BF%E7%94%A8-behaviors"><span class="nav-number">3.3.</span> <span class="nav-text">åœ¨é¡µé¢ä¸­ä½¿ç”¨ behaviors</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E8%B7%AF%E7%94%B1"><span class="nav-number">3.4.</span> <span class="nav-text">é¡µé¢è·¯ç”±</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E6%A0%88"><span class="nav-number">3.4.1.</span> <span class="nav-text">é¡µé¢æ ˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E6%96%B9%E5%BC%8F"><span class="nav-number">3.4.2.</span> <span class="nav-text">è·¯ç”±æ–¹å¼</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="nav-number">3.5.</span> <span class="nav-text">æ¨¡å—åŒ–</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A"><span class="nav-number">3.6.</span> <span class="nav-text">äº‹ä»¶ç»‘å®š</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%88%86%E7%B1%BB"><span class="nav-number">3.6.1.</span> <span class="nav-text">äº‹ä»¶åˆ†ç±»</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A"><span class="nav-number">3.6.2.</span> <span class="nav-text">æ™®é€šäº‹ä»¶ç»‘å®š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%91%E5%AE%9A%E5%B9%B6%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1"><span class="nav-number">3.6.3.</span> <span class="nav-text">ç»‘å®šå¹¶é˜»æ­¢äº‹ä»¶å†’æ³¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%92%E6%96%A5%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A"><span class="nav-number">3.6.4.</span> <span class="nav-text">äº’æ–¥äº‹ä»¶ç»‘å®š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%8D%95%E8%8E%B7%E9%98%B6%E6%AE%B5"><span class="nav-number">3.6.5.</span> <span class="nav-text">äº‹ä»¶çš„æ•è·é˜¶æ®µ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%95%8C%E9%9D%A2%E4%B8%8A%E7%9A%84%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF"><span class="nav-number">3.7.</span> <span class="nav-text">è·å–ç•Œé¢ä¸Šçš„èŠ‚ç‚¹ä¿¡æ¯</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#WXML-%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF"><span class="nav-number">3.7.1.</span> <span class="nav-text">WXML èŠ‚ç‚¹ä¿¡æ¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WXML-%E8%8A%82%E7%82%B9%E5%B8%83%E5%B1%80%E7%9B%B8%E4%BA%A4%E7%8A%B6%E6%80%81"><span class="nav-number">3.7.2.</span> <span class="nav-text">WXML èŠ‚ç‚¹å¸ƒå±€ç›¸äº¤çŠ¶æ€</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E4%B8%8E%E4%BA%8B%E4%BB%B6"><span class="nav-number">3.8.</span> <span class="nav-text">ç»„ä»¶é—´é€šä¿¡ä¸äº‹ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1"><span class="nav-number">3.8.1.</span> <span class="nav-text">ç»„ä»¶é—´é€šä¿¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6"><span class="nav-number">3.8.2.</span> <span class="nav-text">è§¦å‘äº‹ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B"><span class="nav-number">3.8.3.</span> <span class="nav-text">è·å–ç»„ä»¶å®ä¾‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">3.9.</span> <span class="nav-text">ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E6%89%80%E5%9C%A8%E9%A1%B5%E9%9D%A2%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">3.9.1.</span> <span class="nav-text">ç»„ä»¶æ‰€åœ¨é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#behaviors"><span class="nav-number">3.10.</span> <span class="nav-text">behaviors</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E5%90%8D%E5%AD%97%E6%AE%B5%E7%9A%84%E8%A6%86%E7%9B%96%E5%92%8C%E7%BB%84%E5%90%88%E8%A7%84%E5%88%99"><span class="nav-number">3.10.1.</span> <span class="nav-text">åŒåå­—æ®µçš„è¦†ç›–å’Œç»„åˆè§„åˆ™</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E9%97%B4%E5%85%B3%E7%B3%BB"><span class="nav-number">3.11.</span> <span class="nav-text">ç»„ä»¶é—´å…³ç³»</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Pisho"
      src="/images/icon.jpg">
  <p class="site-author-name" itemprop="name">Pisho</p>
  <div class="site-description" itemprop="description">æœ¬ç«™çœ‹è¿æ°”è®¿é—®è¿›æ¥,ä¸»è¦æ˜¯æœ¬äººçš„ä¸€äº›å­¦ä¹ ç¬”è®°,ä¸€èˆ¬æ²¡æœ‰ä»€ä¹ˆå¹²è´§ã€‚ä¸è¿‡è¿˜æ˜¯å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©ä½ å­¦ä¹ åˆ°ä»€ä¹ˆã€‚ç”±äºåŸŸååˆ°æœŸï¼Œæ‰€ä»¥æ¢æˆäº† MOE äºŒæ¬¡å…ƒåŸŸåã€‚ğŸ˜„</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">15</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">åˆ†ç±»</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">æ ‡ç­¾</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/PishoLu" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;PishoLu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:luhongyu.hi@qq.com" title="E-Mail â†’ mailto:luhongyu.hi@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://pisho.me/images/wechatfriend.png" title="Wechat â†’ https:&#x2F;&#x2F;pisho.me&#x2F;images&#x2F;wechatfriend.png" rel="noopener" target="_blank"><i class="fab fa-weixin fa-fw"></i>Wechat</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://steamcommunity.com/profiles/76561198212983353/" title="Steam â†’ https:&#x2F;&#x2F;steamcommunity.com&#x2F;profiles&#x2F;76561198212983353&#x2F;" rel="noopener" target="_blank"><i class="fab fa-steam fa-fw"></i>Steam</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Pisho</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
